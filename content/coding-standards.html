<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="Date-Revision-yyyymmdd" content="20140206"/>
  <meta http-equiv="Content-Language" content="en"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Coding standards</title>

  <link rel="stylesheet" href="/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="/css/main.css">

  <script type="text/javascript" src="/js/jquery-1.11.0.min.js"></script>
  <script type="text/javascript" src="/bootstrap/js/bootstrap.js"></script>
  <script type="text/javascript" src="/js/community.js"></script>
</head>
<body>

<header>
  <!-- Fixed navbar -->
<nav>
  <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-collapse collapse">
        <ul class="nav navbar-nav">

          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Apache Struts <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="index.html">Welcome</a></li>
              <li><a href="downloads.html">Downloads</a></li>
              <li><a href="announce.html">Announcements</a></li>
              <li><a href="http://www.apache.org/licenses/">License</a></li>
              <li><a href="http://apache.org/foundation/thanks.html">Thanks!</a></li>
              <li><a href="http://apache.org/foundation/sponsorship.html">Sponsorship</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Support <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="mail.html">User Mailing List</a></li>
              <li><a href="https://issues.apache.org/jira/browse/WW">Issue Tracker</a></li>
              <li><a href="security.html">Reporting Security Issues</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Documentation <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="birdseye.html">Birds Eye</a></li>
              <li><a href="primer.html">Key Technologies</a></li>
              <li><a href="kickstart.html">Kickstart FAQ</a></li>
              <li><a href="https://cwiki.apache.org/confluence/display/WW/Home">Wiki</a></li>
              <li><a href="http://struts.apache.org/release/2.3.x/index.html">Struts 2</a></li>
              <li><a href="http://struts.apache.org/release/1.3.x/index.html">Struts 1</a></li>
            </ul>
          </li>

          <li class="dropdown">
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">Contributing <b class="caret"></b></a>
            <ul class="dropdown-menu">
              <li><a href="youatstruts.html">You at Struts</a></li>
              <li><a href="helping.html">How to Help FAQ</a></li>
              <li><a href="dev-mail.html">Development Lists</a></li>
              <li class="divider"></li>
              <li><a href="git-for-struts.html">Git for Struts</a></li>
              <li><a href="builds.html">Source Code</a></li>
              <li><a href="coding-standards.html">Coding standards</a></li>
              <li class="divider"></li>
              <li><a href="releases.html">Release Guidelines</a></li>
              <li><a href="bylaws.html">PMC Charter</a></li>
              <li><a href="volunteers.html">Volunteers</a></li>
              <li><a href="https://git-wip-us.apache.org/repos/asf?p=struts.git">Source Repository</a></li>
            </ul>
          </li>

        </ul>
      </div>
      <!--/.nav-collapse -->
    </div>
  </div>
</nav>

  <div class="container">
    <div class="row">
      <div class="pull-left">
        <a href="/" id="bannerLeft">
          <img src="/img/struts.gif" alt="Apache Struts"/>
        </a>
      </div>
      <div class="pull-right"><a href="http://www.apache.org" id="bannerRight">
        <img src="/img/asf-logo.gif" alt="Apache Software Foundation"/>
      </a>
      </div>
    </div>
  </div>
</header>


<article class="container">
  <section class="col-md-12">
    <h1>In the first place</h1>

<p>Please remember that most of the time others will read your code. Focusing on that allow you to gain required perspective
about how code should look like. Defaults, margins, convention doesn&#39;t matter if what you write is hard to read.</p>

<p><strong>Readability is the first rule!</strong></p>

<h2>Separation of concern</h2>

<p>If you want to reformat given file, part of class, etc do it in a dedicated commit. Never ever mix bug fixing,
new feature implementation with code reformatting. Thus only confuses people reviewing your code.</p>

<p><strong>Reformat different than coding!</strong></p>

<h2>Ask!</h2>

<p>If something isn&#39;t clear, you have doubts and anything else - ask! Maybe during materialising your thoughts as text
you will gain the answer - Rubber Duck effect :-) Anyway, instead spending time on looking for solution - ask.</p>

<p>The best place to ask question is Struts Developers List <a href="mailto:dev@struts.apache.org">dev@struts.apache.org</a></p>

<h2>WIP</h2>

<p>If you have any idea how to improve this guideline, don&#39;t hesitate to send them to us! Any help is welcome!</p>

<h1>Examples</h1>

<p>Below examples shows how you should proceed when adjusting given part of source code via reformatting, extracting
or improving.</p>

<h2>From defaults to extractions</h2>

<p>The original source code:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">// Hidden input section
a = new Attributes();
a.add(&quot;type&quot;, &quot;hidden&quot;)
    .add(&quot;id&quot;, &quot;__multiselect_&quot; + StringUtils.defaultString(StringEscapeUtils.escapeHtml4(id)))
    .add(&quot;name&quot;, &quot;__multiselect_&quot; + StringUtils.defaultString(StringEscapeUtils.escapeHtml4(name)))
    .add(&quot;value&quot;, &quot;&quot;).addIfTrue(&quot;disabled&quot;, disabled);
start(&quot;input&quot;, a);
end(&quot;input&quot;);
</code></pre></div>
<p>After applying default reformatting (80 columns margin):</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">// Hidden input section
a = new Attributes();
a.add(&quot;type&quot;, &quot;hidden&quot;)
    .add(&quot;id&quot;,
        &quot;__multiselect_&quot;
            + StringUtils
                .defaultString(StringEscapeUtils
                    .escapeHtml4(id)))
    .add(&quot;name&quot;,
        &quot;__multiselect_&quot;
            + StringUtils
                .defaultString(StringEscapeUtils
                    .escapeHtml4(name)))
    .add(&quot;value&quot;, &quot;&quot;).addIfTrue(&quot;disabled&quot;, disabled);
start(&quot;input&quot;, a);
end(&quot;input&quot;);
</code></pre></div>
<p>Some suggestions how to improve the code:</p>

<ul>
<li><p>use static imports</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">a.add(&quot;type&quot;, &quot;hidden&quot;)
 .add(&quot;id&quot;, &quot;__multiselect_&quot; + defaultString(escapeHtml4(id)));
</code></pre></div></li>
<li><p>use dedicated method</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">a.add(&quot;type&quot;, &quot;hidden&quot;)
 .add(&quot;id&quot;, &quot;__multiselect_&quot; + safeId(id));
</code></pre></div></li>
<li><p>use builder</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">a.add(&quot;type&quot;, &quot;hidden&quot;)
 .add(&quot;id&quot;, HtmlID.with(&quot;__multiselect_&quot;).withSafeId(id).create());
</code></pre></div></li>
</ul>

<p>As you can see, reformatting a code is just the beginning, you shouldn&#39;t stop there and think <em>how can I improve
readability</em> and follow that path to the end.</p>

  </section>
</article>

  <hr/>
<footer class="container">
  <div class="row col-md-12 text-center">
    Copyright &copy; 2000-2014 <a href="http://www.apache.org/">The Apache Software Foundation</a>. All Rights Reserved.
  </div>
  <div class="row col-md-12 text-center">
    Apache Struts, Struts, Apache, the Apache feather logo, and the Apache Struts
    project logos are trademarks of The Apache Software Foundation.
  </div>
</footer>


</body>
</html>
