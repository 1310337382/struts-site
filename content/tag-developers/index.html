<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="Date-Revision-yyyymmdd" content="20140918"/>
  <meta http-equiv="Content-Language" content="en"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>Tag Developers Guide (WIP)</title>

  <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,400italic,600italic,700italic" rel="stylesheet" type="text/css">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">
  <link href="/css/custom.css" rel="stylesheet">
  <link href="/highlighter/github-theme.css" rel="stylesheet">

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script type="text/javascript" src="/bootstrap/js/bootstrap.js"></script>
  <script type="text/javascript" src="/js/community.js"></script>
</head>
<body>

<a href="http://github.com/apache/struts" class="github-ribbon">
  <img style="position: absolute; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png" alt="Fork me on GitHub">
</a>

<header>
  <nav>
    <div role="navigation" class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" data-toggle="collapse" data-target="#struts-menu" class="navbar-toggle">
            Menu
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/index.html" class="navbar-brand logo"><img src="/img/struts-logo.svg"></a>
        </div>
        <div id="struts-menu" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Home<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/index.html">Welcome</a></li>
                <li><a href="/downloads.html">Downloads</a></li>
                <li><a href="/announce.html">Announcements</a></li>
                <li><a href="http://www.apache.org/licenses/">License</a></li>
                <li><a href="http://apache.org/foundation/thanks.html">Thanks!</a></li>
                <li><a href="http://apache.org/foundation/sponsorship.html">Sponsorship</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Support<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/mail.html">User Mailing List</a></li>
                <li><a href="https://issues.apache.org/jira/browse/WW">Issue Tracker</a></li>
                <li><a href="/security.html">Reporting Security Issues</a></li>
                <li class="divider"></li>
                <li><a href="/maven/project-info.html">Project info</a></li>
                <li><a href="/maven/struts2-core/dependencies.html">Struts Core dependencies</a></li>
                <li><a href="/maven/struts2-plugins/modules.html">Plugin dependencies</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Documentation<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/birdseye.html">Birds Eye</a></li>
                <li><a href="/primer.html">Key Technologies</a></li>
                <li><a href="/kickstart.html">Kickstart FAQ</a></li>
                <li><a href="https://cwiki.apache.org/confluence/display/WW/Home">Wiki</a></li>
                <li class="divider"></li>
                <li><a href="/getting-started/">Getting Started</a></li>
                <li><a href="/security/">Security Guide</a></li>
                <li><a href="/core-developers/">Core Developers Guide</a></li>
                <li><a href="/tag-developers/">Tag Developers Guide</a></li>
                <li><a href="/maven-archetypes/">Maven Archetypes</a></li>
                <li><a href="/plugins/">Plugins</a></li>
                <li class="divider"></li>
                <li><a href="/maven/struts2-core/apidocs/index.html">Struts Core API</a></li>
                <li><a href="/docs/plugins.html">Plugin APIs</a></li>
                <li><a href="/docs/tag-reference.html">Tag reference</a></li>
                <li><a href="http://cwiki.apache.org/S2PLUGINS/home.html">Plugin registry</a></li>
                <li class="divider"></li>
                <li><a href="/docs/tutorials.html">Tutorials - DEPRECATED</a></li>
                <li><a href="/docs/faqs.html">FAQs - DEPRECATED</a></li>
                <li><a href="/docs/guides.html">Guides - DEPRECATED</a></li>
              </ul>
            </li>
            <li class="dropdown">
              <a data-toggle="dropdown" href="#" class="dropdown-toggle">
                Contributing<b class="caret"></b>
              </a>
              <ul class="dropdown-menu">
                <li><a href="/youatstruts.html">You at Struts</a></li>
                <li><a href="/helping.html">How to Help FAQ</a></li>
                <li><a href="/dev-mail.html">Development Lists</a></li>
                <li class="divider"></li>
                <li><a href="/submitting-patches.html">Submitting patches</a></li>
                <li><a href="/builds.html">Source Code</a></li>
                <li><a href="/coding-standards.html">Coding standards</a></li>
                <li class="divider"></li>
                <li><a href="/releases.html">Release Guidelines</a></li>
                <li><a href="/bylaws.html">PMC Charter</a></li>
                <li><a href="/volunteers.html">Volunteers</a></li>
                <li><a href="https://git-wip-us.apache.org/repos/asf?p=struts.git">Source Repository</a></li>
              </ul>
            </li>
            <li class="apache"><a href="http://www.apache.org/"><img src="/img/apache.png"></a></li>
          </ul>
        </div>
      </div>
    </div>
  </nav>
</header>


<article class="container">
  <section class="col-md-12">
    <a class="edit-on-gh" href="https://github.com/apache/struts-site/edit/master/source/tag-developers/index.md" title="Edit this page on GitHub">Edit on GitHub</a>
    <p>#Tag Developers Guide# {#PAGE_14324}</p>

<p>The framework offers a flexible view layer that supports multiple view technologies, including JSP, FreeMaker, and Velocity.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>| |\
\
+ <a href="#PAGE_14248">Struts Tags</a>\
\
  + <a href="#PAGE_19745">Generic Tags</a>\
\
  + <a href="#PAGE_19736">UI Tags</a>\
\
  + <a href="#PAGE_14247">Themes and Templates</a>\
\
  + <a href="#PAGE_19705">Tag Reference</a>\
\
  + <a href="#PAGE_31510">Ajax Tags</a>\
\
    + <a href="#PAGE_56182">Ajax and JavaScript Recipes</a>\
\
+ <a href="#PAGE_14198">OGNL</a>\
\
+ <a href="#PAGE_13927">Tag Syntax</a>\
\
+ <em>Alt Syntax</em> \
|\
\
+ <a href="#PAGE_14141">JSP</a>\
\
  + <a href="#PAGE_13973">specific tags</a>\
\
+ <a href="#PAGE_14078">FreeMarker</a>\
\
  + <a href="#PAGE_14294">specific tags</a>\
\
+ <a href="#PAGE_13894">Velocity</a>\
\
  + <a href="#PAGE_13950">specific tags</a>\
|
|————————————————————————————————————————————————————————————————————————————————————————————————————————————————-|————————————————————————————————————————————————————————————————–|</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>###Next:###</p>

<p>##FreeMarker## {#PAGE_14078}</p>

<p>FreeMarker is a Java-based template engine that is a great alternative to <a href="#PAGE_14141">JSP</a>. FreeMarker is ideal for situations where your action results can possibly be loaded from outside a Servlet container. For example, if you wished to support plugins in your application, you might wish to use FreeMarker so that the plugins could provide the entire action class and view in a single jar that is loaded from the classloader.</p>

<p>For more information on FreeMarker itself, please visit the <a href="http://freemarker\.sourceforge\.net/">FreeMarker website</a>^[http://freemarker.sourceforge.net/].</p>

<table>
  <tbody>
    <tr>
      <td>The framework utilizes FreeMarker because the engine includes strong error reporting, built-in internationalization and powerful macro libraries.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>Support is also included for <a href="#PAGE_13894">Velocity</a> templates. For a comparison of Velocity vs FreeMarker see <a href="http://freemarker\.org/fmVsVel\.html">here</a>^[http://freemarker.org/fmVsVel.html].</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>####Getting Started####</p>

<p>Getting started with FreeMarker is as simple as ensuring all the dependencies are included in your project’s classpath. Typically, the only dependency is</p>

<div class="highlighter-rouge"><pre class="highlight"><code>freemarker.jar
</code></pre>
</div>
<p>. Other than that, <em>struts-default.xml</em>  already configures the <em>FreeMarker Result</em>  needed to process your application’s templates.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;action name="test" class="com.acme.TestAction"&gt;
    &lt;result name="success" type="freemarker"&gt;test-success.ftl&lt;/result&gt;
&lt;/action&gt;

</code></pre>
</div>

<p>Then in</p>

<div class="highlighter-rouge"><pre class="highlight"><code>test-success.ftl
</code></pre>
</div>
<p>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

Hello, ${name}

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
</div>

<p>Where</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>is a property on your action. That’s it! Read the rest of this document for details on how templates are loaded, variables are resolved, and tags can be used.</p>

<p>####Servlet / JSP Scoped Objects####</p>

<p>The following are ways to obtained Application scope attributes, Session scope attributes, Request scope attributes, Request parameters, and framework Context scope parameters:-</p>

<p>#####Application Scope Attribute#####</p>

<p>Assuming there’s an attribute with name</p>

<div class="highlighter-rouge"><pre class="highlight"><code>myApplicationAttribute
</code></pre>
</div>
<p>in the Application scope.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;#if Application.myApplicationAttribute?exists&gt;
     ${Application.myApplicationAttribute}
&lt;/#if&gt;

</code></pre>
</div>

<p>or</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.property value="%{#application.myApplicationAttribute}" /&gt;

</code></pre>
</div>

<p>#####Session Scope Attribute#####</p>

<p>Assuming there’s an attribute with name</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mySessionAttribute
</code></pre>
</div>
<p>in the Session scope.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;#if Session.mySessionAttribute?exists&gt;
     ${Session.mySessionAttribute}
&lt;/#if&gt;

</code></pre>
</div>

<p>or</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.property value="%{#session.mySessionAttribute}" /&gt;

</code></pre>
</div>

<p>#####Request Scope Attribute#####</p>

<p>Assuming there’s an attribute with name ‘myRequestAttribute’ in the Request scope.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;#if Request.myRequestAttribute?exists&gt;
      ${Request.myRequestAttribute}
&lt;/#if&gt;

</code></pre>
</div>

<p>or</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.property value="%{#request.myRequestAttribute}" /&gt;

</code></pre>
</div>

<p>#####Request Parameter#####</p>

<p>Assuming there’s a request parameter myParameter (eg. <a href="http://host/myApp/myAction\.action?myParameter=one">http://host/myApp/myAction.action?myParameter=one</a>).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;#if Parameters.myParameter?exists&gt;
     ${Parameters.myParameter}
&lt;/#if&gt;

</code></pre>
</div>

<p>or</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.property value="%{#parameters.myParameter}" /&gt;

</code></pre>
</div>

<p>#####Context parameter#####</p>

<p>Assuming there’s a parameter with the name myContextParam in framework context.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>${stack.findValue('#myContextParam')}

</code></pre>
</div>

<p>or</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.property value="%{#myContextParam}" /&gt;

</code></pre>
</div>

<p>####Template Loading####</p>

<p>The framework looks for FreeMarker templates in two locations (in this order):</p>

<ol>
  <li>
    <p>Web application</p>
  </li>
  <li>
    <p>Class path</p>
  </li>
</ol>

<p>This ordering makes it ideal for providing templates inside a fully-built jar, but allowing for overrides of those templates to be defined in your web application. In fact, this is how you can override the default UI tags and <a href="#PAGE_14230">Form Tags</a> included with the framework.</p>

<p>In addition, you can specify a location (directory on your file system) through the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>templatePath
</code></pre>
</div>
<p>or</p>

<div class="highlighter-rouge"><pre class="highlight"><code>TemplatePath
</code></pre>
</div>
<p>context variable (in the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>web.xml
</code></pre>
</div>
<p>). If a variable is specified, the content of the directory it points to will be searched first.</p>

<table>
  <tbody>
    <tr>
      <td>This variable is currently NOT relative to the root of your application.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>####Variable Resolution####</p>

<p>When using FreeMarker with the framework, variables are looked up in several different places, in this order:</p>

<ol>
  <li>
    <p>Built-in variables</p>
  </li>
  <li>
    <p>Value stack</p>
  </li>
  <li>
    <p>Action context</p>
  </li>
  <li>
    <p>Request scope</p>
  </li>
  <li>
    <p>Session scope</p>
  </li>
  <li>
    <p>Application scope</p>
  </li>
</ol>

<p>Note that the action context is looked up after the value stack. This means that you can reference the variable without the typical preceding has marker (#) like you would have to when using the JSP</p>

<div class="highlighter-rouge"><pre class="highlight"><code>s:property
</code></pre>
</div>
<p>tag. This is a nice convenience, though be careful because there is a small chance it could trip you up.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.url id="url" value="http://www.yahoo.com"/&gt;
Click &lt;a xhref="${url}"&gt;here&lt;/a&gt;!

</code></pre>
</div>

<p>The built-in variables that Struts-FreeMarker integration provides are:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>stack</td>
      <td>The value stack itself, useful for calls like ${stack.findString(‘ognl expr’)}</td>
    </tr>
    <tr>
      <td>action</td>
      <td>The action most recently executed</td>
    </tr>
    <tr>
      <td>response</td>
      <td>The HttpServletResponse</td>
    </tr>
    <tr>
      <td>res</td>
      <td>Same as response</td>
    </tr>
    <tr>
      <td>request</td>
      <td>The HttpServletRequest</td>
    </tr>
    <tr>
      <td>req</td>
      <td>Same as request</td>
    </tr>
    <tr>
      <td>session</td>
      <td>The HttpSession</td>
    </tr>
    <tr>
      <td>application</td>
      <td>The ServletContext</td>
    </tr>
    <tr>
      <td>base</td>
      <td>The request’s context path</td>
    </tr>
  </tbody>
</table>

<p>####Tag Support####</p>

<p>FreeMarker includes complete tag support. See the <a href="#PAGE_14294">FreeMarker Tags</a> documentation for information on how to use the generic <a href="#PAGE_14248">Struts Tags</a> provided by Struts. In addition to this, you can use any JSP tag, like so:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;#assign mytag=JspTaglibs["/WEB-INF/mytag.tld"]&gt;
&lt;@mytag.tagx attribute1="some ${value}"/&gt;

</code></pre>
</div>

<p>Where <strong>mytag.tld</strong> is the JSP Tag Library Definition file for your tag library. Note: in order to use this support in FreeMarker, you must enable the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>JSPSupportServlet
</code></pre>
</div>
<p>in</p>

<div class="highlighter-rouge"><pre class="highlight"><code>web.xml
</code></pre>
</div>
<p>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;servlet&gt;
    &lt;servlet-name&gt;JspSupportServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.apache.struts2.views.JspSupportServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;

</code></pre>
</div>

<p>####Tips and Tricks####</p>

<p>There are some advanced features that may be useful when building Struts applications with FreeMarker.</p>

<p>#####Type Conversion and Locales#####</p>

<p>FreeMarker has built in support for formatting dates and numbers. The formatting rules are based on the locale associated with the action request, which is by default set in <em>struts.properties</em>  but can be over-ridden using the <em>I18n Interceptor</em> . This is normally perfect for your needs, but it is important to remember that these formatting rules are handled by FreeMarker and not by the framework’s <em>Type Conversion</em>  support.</p>

<p>If you want the framework to handle the formatting according to the <em>Type Conversion</em>  you have specified, you shouldn’t use the normal ${...} syntax. Instead, you should use the <a href="#PAGE_13960">property</a> tag. The difference is that the property tag is specifically designed to take an <a href="#PAGE_14198">OGNL</a> expression, evaluate it, and then convert it to a String using any <em>Type Conversion</em>  rules you have specified. The normal ${...} syntax will use a FreeMarker expression language, evaluate it, and then convert it to a String using the built in formatting rules.</p>

<p>(!)  The difference in how type conversion is handled under Freemarker is subtle but important to understand.</p>

<p>#####Extending#####</p>

<p>Sometimes you may with to extend the framework’s FreeMarker support. For example, you might want to extend the Struts tags that come bundled with the framework.</p>

<p>To extend the Freemarker support, develop a class that extends</p>

<div class="highlighter-rouge"><pre class="highlight"><code>org.apache.struts2.views.freemarker.FreemarkerManager
</code></pre>
</div>
<p>, overriding methods as needed, and plugin the class through the <em>struts.properties</em> :</p>

<div class="highlighter-rouge"><pre class="highlight"><code>struts.freemarker.manager.classname = com.yourcompany.YourFreeMarkerManager

</code></pre>
</div>

<p>#####ObjectWrapper Settings#####</p>

<p>Once you get familiar with FreeMarker, you will find certain <em>subtleties</em> with it that may become frustrating. The most common thing you’ll likely run in to is the BeansWrapper provided by FreeMarker. If you don’t know what this is, don’t worry. However, if you do, know this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.views.freemarker.StrutsBeanWrapper</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####Syntax Notes#####</p>

<p>As of FreeMarker 2.3.4, an alternative syntax is supported. This alternative syntax is great if you find that your IDE (especially IntelliJ IDEA) makes it difficult to work with the default syntax. You can read more about this syntax <a href="http://freemarker\.sourceforge\.net/docs/dgui\_misc\_alternativesyntax\.html">here</a>^[http://freemarker.sourceforge.net/docs/dgui_misc_alternativesyntax.html].</p>

<p>#####Cache#####</p>

<p>You can enable FreeMarker cache mechanism by specifying below options in struts.xml:</p>

<ul>
  <li></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;constant name="struts.freemarker.mru.max.strong.size" value="250" /&gt;
</code></pre>
</div>
<p>- this option will be used by <a href="http://freemarker\.org/docs/api/freemarker/cache/MruCacheStorage\.html">freemarker.cache.MruCacheStorage</a>^[http://freemarker.org/docs/api/freemarker/cache/MruCacheStorage.html]</p>

<ul>
  <li></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;constant name="struts.freemarker.templatesCache.updateDelay" value="1800" /&gt;
</code></pre>
</div>
<p>- default update cache interval (5 seconds)</p>

<ul>
  <li></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;constant name="struts.freemarker.templatesCache" value="true" /&gt;
</code></pre>
</div>
<p>- *<strong>DEPRECATED</strong>* this option will use a internal ConcurrentHashMap in FreemarkerTemplateEngine but not freemarker native cache</p>

<p>Setting</p>

<div class="highlighter-rouge"><pre class="highlight"><code>devMode
</code></pre>
</div>
<p>to true will disable cache and updateDelay immediately, but you can explicit specify these constants to enable cache even in</p>

<div class="highlighter-rouge"><pre class="highlight"><code>devMode
</code></pre>
</div>
<p>, see <em>devMode</em></p>

<p>#####Incompatible Improvements#####</p>

<p>By default Struts is using FreeMarker in way to be backward compatible as much as possible but if you need to enable new features you can do it via </p>

<div class="highlighter-rouge"><pre class="highlight"><code>freemarker.properties
</code></pre>
</div>
<p>by defining <a href="http://freemarker\.org/docs/pgui\_config\_incompatible\_improvements\.html\#pgui\_config\_incompatible\_improvements\_how\_to\_set">incompatible improvements</a>^[http://freemarker.org/docs/pgui_config_incompatible_improvements.html#pgui_config_incompatible_improvements_how_to_set] settings, ie.:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>incompatible_improvements=2.3.22
</code></pre>
</div>

<p>You can also pass this setting via </p>

<div class="highlighter-rouge"><pre class="highlight"><code>ServletContext
</code></pre>
</div>
<p> </p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;init-param/&gt; (since Struts 2.5.13):
</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;init-param&gt;
    &lt;param-name&gt;freemarker.incompatible_improvements&lt;/param-name&gt;
    &lt;param-value&gt;2.3.22&lt;/param-value&gt;
&lt;/init-param&gt;
</code></pre>
</div>

<p>This can impact your freemarker powered pages and Struts tags as well, so please careful test this change.</p>

<p>####Next:####</p>

<p>##FreeMarker Tags## {#PAGE_14294}</p>

<p>FreeMarker tags are extensions of the generic <a href="#PAGE_14248">Struts Tags</a> provided by the framework. You can jump right in just by knowing the generic structure in which the tags can be accessed:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.tag&gt; ...&lt;/@s.tag&gt;
</code></pre>
</div>
<p>, where <em>tag</em>  is any of the <a href="#PAGE_14248">tags</a> supported by the framework.</p>

<p>For example, in JSP you might create a form using Struts tags.</p>

<p><strong>JSP Form</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:form action="updatePerson"&gt;
    &lt;s:textfield label="First name" name="firstName"/&gt;
    &lt;s:submit value="Update"/&gt;
&lt;/s:form&gt;

</code></pre>
</div>

<p>In FreeMarker the same form can also be built using Struts tags.</p>

<p><strong>FTL Form</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;@s.form action="updatePerson"&gt;
    &lt;@s.textfield label="First name" name="firstName"/&gt;
    &lt;@s.submit value="Update"/&gt;
&lt;/@s.form&gt;

</code></pre>
</div>

<p><em>But, wait there’s more!</em></p>

<p>Aside from doing everything that the JSP tags do, the FTL tags boast additional features that you can use to make your pages even easier to code. You can even invoke third-party JSP taglibs as if there were native FTL tags.</p>

<p>####Attributes and Parameters####</p>

<p>Unlike older versions of JSP (in which the <a href="#PAGE_13973">JSP Tags</a> are based), FreeMarker allows for <em>dynamic attributes</em> , much like JSP 2.0. You can supply attributes to the tags that the tag doesn’t explicitedly support. Those attributes that cannot be applied directly to the tag object will be set to the tag’s general-purpose</p>

<div class="highlighter-rouge"><pre class="highlight"><code>parameters
</code></pre>
</div>
<p>Map.</p>

<p>Suppose we wanted to build an URL in a JSP. The URL needs to take an arbitary parameter to the query string, that (being arbitary) isn’t specified on the URL tag. In a JSP, we’d have to use the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>url
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>param
</code></pre>
</div>
<p>tags together.</p>

<p><strong>Creating a URL with a query string (JSP)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:url value="somePage"&gt;
    &lt;s:param name="personId" value="%{personId}"/&gt;
&lt;/s:url&gt;

</code></pre>
</div>

<p>In FreeMarker, we can pass the arbitrary parameter directly and create the URL in one simple statement.</p>

<p><strong>Creating a URL with a query string (FTL)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;@s.url value="somePage" personId="${personId}"/&gt;

</code></pre>
</div>

<p>#####Using inline attributes with templates#####</p>

<p>Suppose you created a “three column” theme to replace the typical two column theme (xhtml). You might want an additional parameter to display in the third column called “description”. Using FreeMarker, you can just pop the description attribute into the textfield tag, no fuss, no muss.</p>

<p><strong>Passing an attribute to the template</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;@s.form action="updatePerson"&gt;
    &lt;@s.textfield label="First name" name="firstName" description="..."/&gt;
    &lt;@s.submit value="Update"/&gt;
&lt;/@s.form&gt;

</code></pre>
</div>

<p>In the new template, the description is referenced via the parameters Map: “${parameters.description}”.</p>

<table>
  <tbody>
    <tr>
      <td>For simple cases, inline attributes are much easier to use than the param} tag. But, the {{param} tag is more flexible than inline attributes for advanced use cases. For example, {{param can take the entire body of the tag and apply that as the <em>value</em>  attribute.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>####Attribute Types####</p>

<p>Remember that all tag attributes must first be set as Strings - they are then later evaluated (using <a href="#PAGE_14198">OGNL</a>) to a different type, such as List, int, or boolean. This generally works just fine, but it can be limiting when using FreeMarker which provides more advanced ways to apply attributes. Suppose the following example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;@s.select label="Foo label - ${foo}" name="${name}" list="%1"/&gt;

</code></pre>
</div>

<p>What will happen here is that each attribute will be evaluated to a String as best it can. This may involve calling the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>toString
</code></pre>
</div>
<p>method on the internal FreeMarker objects. In this case, all objects will end up being exactly what you would expect. Then, when the tag runs, the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>list
</code></pre>
</div>
<p>attribute will be converted from a String to a List using <a href="#PAGE_14198">OGNL</a>’s advanced collection support.</p>

<p>But suppose you wish to use FreeMarker’s list or hash support instead? You can do this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;@s.select label="Foo label - ${foo}" name="${name}" list=[1, 2, 3]/&gt;

</code></pre>
</div>

<p>Notice that the list attribute no longer has quotes around it. Now it will come in to the tag as an object that can’t easily be converted to a String. Normally, the tag would just call</p>

<div class="highlighter-rouge"><pre class="highlight"><code>toString
</code></pre>
</div>
<p>, which would return “[1, 2, 3]” and be unable to be converted back to a List by OGNL. Rather than go through all this back and forth, the frameworks’s FreeMarker tag support will recognize collections and not pass them through the normal tag attribute. Instead, the framework will set them directly in the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>parameters
</code></pre>
</div>
<p>Map, ready to be consumed by the template.</p>

<p>In the end, everything tends to do what you would expect, but it can help to understand the difference of when OGNL is being used and when it isn’t, and how attribute types get converted.</p>

<p>####JSP Tag Support####</p>

<p>While the framework provides native FreeMarker Tags, you might wish to use other third-party tags that are only available for JSP. Fortunately, FreeMarker has the ability to run JSP tags. To do so, you must include the JspSupportServlet in the application’s</p>

<div class="highlighter-rouge"><pre class="highlight"><code>web.xml
</code></pre>
</div>
<p>, as this allows the FreeMarker integration to get access to the required objects needed to emulate a JSP taglib container.</p>

<p><strong>Adding JspSupportSerlvet to web.xml</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;servlet&gt;
    &lt;servlet-name&gt;JspSupportServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.apache.struts2.views.JspSupportServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;

</code></pre>
</div>

<p>Once you’ve done that, you can simply add something like this in your templates:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;#assign cewolf=JspTaglibs["/WEB-INF/cewolf.tld"] /&gt;
...
&lt;@cewold.xxx ... /&gt;

</code></pre>
</div>

<p>####Next:####</p>

<p>##JSP## {#PAGE_14141}</p>

<p>The default configuration (<em>struts-default.xml</em> ) configures the <em>Dispatcher Result</em>  as the default result, which works well with JavaServer Pages. Any JSP 1.2+ container can work with Struts 2 JSP tags immediately.</p>

<p>####Getting Started####</p>

<p>Because JSP support occurs through the <em>Dispatcher Result</em> , which is the default result type, you don’t need to specify the type attribute when configuring <em>struts.xml</em> :</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;action name="test" class="com.acme.TestAction"&gt;
    &lt;result name="success"&gt;test-success.jsp&lt;/result&gt;
&lt;/action&gt;

</code></pre>
</div>

<p>Then in <strong>test-success.jsp</strong>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="err">&lt;</span>%@ taglib prefix="s" uri="/struts-tags" %&gt;

<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

Hello, <span class="nt">&lt;s:property</span> <span class="na">value=</span><span class="s">"name"</span><span class="nt">/&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
</div>

<p>Where <strong>name</strong> is a property on your action. That’s it!</p>

<p>####Servlet / JSP Scoped Objects####</p>

<p>The following are ways to obtain Application scope attributes, Session scope attributes, Request scope attributes, Request parameters and framework Context scope parameters:-</p>

<p>#####Application Scope Attribute#####</p>

<p>Assuming there’s an attribute with name ‘myApplicationAttribute’ in the Application scope.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:property value="%{#application.myApplicationAttribute}" /&gt;

</code></pre>
</div>

<p>#####Session Scope Attribute#####</p>

<p>Assuming there’s an attribute with name ‘mySessionAttribute’ in the Session scope.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:property value="%{#session.mySessionAttribute}" /&gt;

</code></pre>
</div>

<p>#####Request Scope Attribute#####</p>

<p>Assuming there’s an attribute with name ‘myRequestAttribute’ in the Request scope.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:property value="%{#request.myRequestAttribute}" /&gt;

</code></pre>
</div>

<p>#####Request Parameter#####</p>

<p>Assuming there’s a request parameter myParameter (e.g. <a href="http://host/myApp/myAction\.action?myParameter=one">http://host/myApp/myAction.action?myParameter=one</a>).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:property value="%{#parameters.myParameter}" /&gt;

</code></pre>
</div>

<p>#####Context Scope Parameter#####</p>

<p>Assuming there’s a parameter with the name myContextParam in our context.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:property value="%{#myContextParam}" /&gt;

</code></pre>
</div>

<p>####Tag Support####</p>

<p>See the <a href="#PAGE_13973">JSP Tags</a> documentation for information on how to use the generic <a href="#PAGE_14248">Struts Tags</a> provided by the framework.</p>

<p>####Exposing the ValueStack####</p>

<p>There are a couple of ways to obtain <em>access to ValueStack from JSPs</em> .</p>

<p>####Next:####</p>

<p>###Access to ValueStack from JSPs### {#PAGE_14315}</p>

<p>To access the ValueStack from third-party JSP taglibs, expose property values to JSP using the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:set
</code></pre>
</div>
<p>tag.</p>

<p><strong>Set a request scoped parameter ‘a’ to list of integers</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:set name="'a'" value="{ 1, 2, 3, 4 }" scope="request"/&gt;

</code></pre>
</div>

<p>After setting parameters, third-party JSP taglibs can access variables or use JSP 2.0 EL (Expression Language). This is convenient as short hand EL expression syntax</p>

<div class="highlighter-rouge"><pre class="highlight"><code>${expression
</code></pre>
</div>
<p>}</p>

<p>can be used in a text or inside of tag attributes:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>a[0] = ${a[0]}

&lt;sample:tag value="${a[1]}"/&gt;

</code></pre>
</div>

<p>In practice, several variables must be exposed to make effective use of third party taglibs like <a href="http://displaytag\.sourceforge\.net/11/">DisplayTag</a>^[http://displaytag.sourceforge.net/11/]. Unfortunately, this approach leads to a lot of</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;ww:set/&gt;
</code></pre>
</div>
<p>tags.</p>

<table>
  <tbody>
    <tr>
      <td>Unfortunately, it isn’t that simple. we tinkered with JSPFactory.setDefault() to wrap around getPageContext() and create ExpressionEvaluator that would use OGNL. This strategy works in practice, but code generated by Jasper2 doesn’t call JSPFactory.getPageContext().getExpressionEvaluator() but goes directly to static method that is hardwired to Jakarta Commons-EL implementation.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>Even if this approach did work, it wouldn’t be <em>clean</em>  as JSPFactory.setDefault() should only be called by JSP implementation.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>There is a simple, if not elegant, solution available in JSP 2.0 EL, for exposing ValueStack to OGNL. It is possible to create custom functions that can be called from EL expressions. Functions have to be ‘public static’ and specified in a TLD file.
 To use a function, import the TLD in a JSP file where you’ve want to use a function. For example, you could access Action properties by evaluating OGNL expression by a function ‘vs’ (for valuestack) in EL.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;%@ taglib uri="/WEB-INF/tld/wwel.tld" prefix="x" %&gt;

a[0] = ${x:vs('a[0]')}
a[0] * 4 = ${x:vs('a[0] * 4')}

Current action name: ${x:name()}
Top of ValueStack: ${x:top()}

</code></pre>
</div>

<p>To use this code you’ve got to add</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wwel.tld
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Functions.java
</code></pre>
</div>
<p>to your webapp project.</p>

<table>
  <tbody>
    <tr>
      <td>If someone were interested, it would be helpful for a developer (like you!) to define a set of functions that we could include in a future release of the framework.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>wwel.tld</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0"?&gt;</span>
<span class="nt">&lt;taglib</span> <span class="na">xmlns=</span><span class="s">"http://java.sun.com/xml/ns/j2ee"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd"</span>
	<span class="na">version=</span><span class="s">"2.0"</span><span class="nt">&gt;</span>

<span class="nt">&lt;description&gt;</span>
This taglib enables access to the ValueStack
from JSP 2.0 Expression Language
<span class="nt">&lt;/description&gt;</span>

<span class="nt">&lt;tlib-version&gt;</span>1.0<span class="nt">&lt;/tlib-version&gt;</span>

<span class="nt">&lt;short-name&gt;</span>wwel<span class="nt">&lt;/short-name&gt;</span>

<span class="nt">&lt;function&gt;</span>
	<span class="nt">&lt;name&gt;</span>vs<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;function-class&gt;</span>com.nmote.wwel.Functions<span class="nt">&lt;/function-class&gt;</span>
	<span class="nt">&lt;function-signature&gt;</span>
		java.lang.Object findOnValueStack(java.lang.String)
	<span class="nt">&lt;/function-signature&gt;</span>
<span class="nt">&lt;/function&gt;</span>

<span class="nt">&lt;function&gt;</span>
	<span class="nt">&lt;name&gt;</span>name<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;function-class&gt;</span>com.nmote.wwel.Functions<span class="nt">&lt;/function-class&gt;</span>
	<span class="nt">&lt;function-signature&gt;</span>
		java.lang.Object getActionName()
	<span class="nt">&lt;/function-signature&gt;</span>
<span class="nt">&lt;/function&gt;</span>

<span class="nt">&lt;function&gt;</span>
	<span class="nt">&lt;name&gt;</span>top<span class="nt">&lt;/name&gt;</span>
	<span class="nt">&lt;function-class&gt;</span>com.nmote.wwel.Functions<span class="nt">&lt;/function-class&gt;</span>
	<span class="nt">&lt;function-signature&gt;</span>
		java.lang.Object getTopOfValueStack()
	<span class="nt">&lt;/function-signature&gt;</span>
<span class="nt">&lt;/function&gt;</span>

<span class="nt">&lt;/taglib&gt;</span>

</code></pre>
</div>

<p><strong>Functions.java</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>package com.nmote.wwel;

import com.opensymphony.xwork.ActionContext;

/**
 * Utility functions for accessing value stack and action context
 * from JSP 2.0 EL taglibs.
 */
public class Functions {

	public static Object findOnValueStack(String expr) {
		ActionContext a = ActionContext.getContext();
		Object value = a.getValueStack().findValue(expr);
		return value;
	}

	public static Object getTopOfValueStack() {
		ActionContext a = ActionContext.getContext();
		Object value = a.getValueStack().peek();
		return value;
	}

	public static Object getActionName() {
		ActionContext a = ActionContext.getContext();
		Object value = a.getName();
		return value;
	}
}

</code></pre>
</div>

<p>##JSP Tags## {#PAGE_13973}</p>

<p>JSP tags are extensions of the generic tags provided by the framework. You can get started almost immediately by simply knowing the generic structure in which the tags can be accessed: &lt;s:tag&gt; ... &lt;/s:tag&gt;, where tag is any of the tags supported by the framework.</p>

<p>####Tag Library Definition (TLD)####</p>

<p>The JSP TLD is included in the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>struts-core.jar
</code></pre>
</div>
<p>. To use, just include the usual red-tape at the top of your JSP.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="err">&lt;</span>%@ taglib prefix="s" uri="/struts-tags" %&gt;
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p&gt;</span>Now you can use the tags, like so:<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;s:iterator</span> <span class="na">value=</span><span class="s">"people"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;s:property</span> <span class="na">value=</span><span class="s">"lastName"</span><span class="nt">/&gt;</span>, <span class="nt">&lt;s:property</span> <span class="na">value=</span><span class="s">"firstName"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/s:iterator&gt;</span>
    ...

</code></pre>
</div>

<p>####Next:####</p>

<p>##OGNL## {#PAGE_14198}</p>

<p>OGNL is the Object Graph Navigation Language (see <a href="http://commons\.apache\.org/proper/commons\-ognl/">http://commons.apache.org/proper/commons-ognl/</a> for the full documentation of OGNL). Here, we will cover a few examples of OGNL features that co-exist with the framework. To review basic concepts, refer to <a href="#PAGE_14000">OGNL Basics</a>.</p>

<p>The framework uses a standard naming context to evaluate OGNL expressions. The top level object dealing with OGNL is a Map (usually referred as a context map or context). OGNL has a notion of there being a root (or default) object within the context. In expression, the properties of the root object can be referenced without any special “marker” notion. References to other objects are marked with a pound sign (</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#
</code></pre>
</div>
<p>).</p>

<p>The framework sets the OGNL context to be our ActionContext, and the value stack to be the OGNL root object. (The value stack is a set of several objects, but to OGNL it appears to be a single object.) Along with the value stack, the framework places other objects in the ActionContext, including Maps representing the application, session, and request contexts. These objects coexist in the ActionContext, alongside the value stack (our OGNL root).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>                     |
                     |--application
                     |
                     |--session
       context map---|
                     |--value stack(root)
                     |
                     |--action (the current action)
                     |
                     |--request
                     |
                     |--parameters
                     |
                     |--attr (searches page, request, session, then application scopes)
                     |

</code></pre>
</div>

<p>(information) There are other objects in the context map. The diagram is for example only.</p>

<p>The Action instance is always pushed onto the value stack. Because the Action is on the stack, and the stack is the OGNL root, references to Action properties can omit the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#
</code></pre>
</div>
<p>marker. But, to access other objects in the ActionContext, we must use the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#
</code></pre>
</div>
<p>notation so OGNL knows not to look in the root object, but for some other object in the ActionContext.</p>

<p><strong>Referencing an Action property</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:property value="postalCode"/&gt;

</code></pre>
</div>

<p>Other (non-root) objects in the ActionContext can be rendered use the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#
</code></pre>
</div>
<p>notation.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:property value="#session.mySessionPropKey"/&gt; or
&lt;s:property value="#session['mySessionPropKey']"/&gt; or
&lt;s:property value="#request['myRequestPropKey']"/&gt;

</code></pre>
</div>

<p>The ActionContext is also exposed to Action classes via a static method.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ActionContext.getContext().getSession().put("mySessionPropKey", mySessionObject);

</code></pre>
</div>

<p>You can also put expression for attributes that don’t support dynamic content, like below:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;c:set var="foo" value="bar" scope="request"/&gt;
&lt;s:textfield name="username" label="%{#request.foo}" /&gt;

</code></pre>
</div>

<p>####Collections (Maps, Lists, Sets)####</p>

<p>Dealing with Collections (Maps, Lists, and Sets) in the framework comes often, so below please there are a few examples using the select tag. The <a href="http://commons\.apache\.org/proper/commons\-ognl/language\-guide\.html\#Collection\_Construction">OGNL documentation</a>^[http://commons.apache.org/proper/commons-ognl/language-guide.html#Collection_Construction] also includes some examples.</p>

<p>Syntax for list: {e1,e2,e3}. This idiom creates a List containing the String “name1”, “name2” and “name3”. It also selects “name2” as the default value.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:select label="label" name="name" list="{'name1','name2','name3'}" value="%{'name2'}" /&gt;

</code></pre>
</div>

<p>Syntax for map: #{key1:value1,key2:value2}. This idiom creates a map that maps the string “foo” to the string “foovalue” and “bar” to the string “barvalue”:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:select label="label" name="name" list="#{'foo':'foovalue', 'bar':'barvalue'}" /&gt;

</code></pre>
</div>

<p>To determine if an element exists in a Collection, use the operations</p>

<div class="highlighter-rouge"><pre class="highlight"><code>in
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>not in
</code></pre>
</div>
<p>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:if test="'foo' in {'foo','bar'}"&gt;
   muhahaha
&lt;/s:if&gt;
&lt;s:else&gt;
   boo
&lt;/s:else&gt;

&lt;s:if test="'foo' not in {'foo','bar'}"&gt;
   muhahaha
&lt;/s:if&gt;
&lt;s:else&gt;
   boo
&lt;/s:else&gt;

</code></pre>
</div>

<p>To select a subset of a collection (called projection), use a wildcard within the collection.</p>

<ul>
  <li>
    <p>? - All elements matching the selection logic</p>
  </li>
  <li>
    <p>^ - Only the first element matching the selection logic</p>
  </li>
  <li>
    <p>$ - Only the last element matching the selection logic</p>
  </li>
</ul>

<p>To obtain a subset of just male relatives from the object person:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>person.relatives.{? #this.gender == 'male'}

</code></pre>
</div>

<p>####Lambda Expressions####</p>

<p>OGNL supports basic lamba expression syntax enabling you to write simple functions.</p>

<p>(Dedicated to all you math majors who didn’t think you would ever see this one again.)</p>

<p>Fibonacci: if n==0 return 0; elseif n==1 return 1; else return fib(n-2)+fib(n-1);
 fib(0) = 0
 fib(1) = 1
 fib(11) = 89</p>

<p><strong>(i) How the expression works</strong></p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>The lambda expression is everything inside the square brackets. The #this variable holds the argument to the expression, which in the following example is the number 11 (the code after the square-bracketed lamba expression, #fib(11)).</p>
</blockquote>

<blockquote>

</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:property value="#fib =:[#this==0 ? 0 : #this==1 ? 1 : #fib(#this-2)+#fib(#this-1)], #fib(11)" /&gt;

</code></pre>
</div>

<p>####Next:####</p>

<p>###OGNL Basics### {#PAGE_14000}</p>

<p>#####XWork-specific language features#####</p>

<p>The biggest addition that XWork provides on top of OGNL is the support for the ValueStack. While OGNL operates under the assumption there is only one “root”, XWork’s ValueStack concept requires there be many “roots”.</p>

<p>For example, suppose we are using standard OGNL (not using XWork) and there are two objects in the OgnlContext map: “foo” -&gt; foo and “bar” -&gt; bar and that the foo object is also configured to be the single <strong>root</strong> object. The following code illustrates how OGNL deals with these three situations:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#foo.blah // returns foo.getBlah()
#bar.blah // returns bar.getBlah()
blah      // returns foo.getBlah() because foo is the root

</code></pre>
</div>

<p>What this means is that OGNL allows many objects in the context, but unless the object you are trying to access is the root, it must be prepended with a namespaces such as @bar. Now let’s talk about how XWork is a little different...</p>

<p><strong>(i) Useful Information</strong></p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>In XWork, the entire ValueStack is the root object in the context. Rather than having your expressions get the object you want from the stack and then get properties from that (ie: peek().blah), XWork has a special OGNL PropertyAccessor that will automatically look at the all entries in the stack (from the top down) until it finds an object with the property you are looking for.</p>
</blockquote>

<blockquote>

</blockquote>

<p>For example, suppose the stack contains two objects: Animal and Person. Both objects have a “name” property, Animal has a “species” property, and Person has a “salary” property. Animal is on the top of the stack, and Person is below it. The follow code fragments help you get an idea of what is going on here:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>species    // call to animal.getSpecies()
salary     // call to person.getSalary()
name       // call to animal.getName() because animal is on the top

</code></pre>
</div>

<p>In the last example, there was a tie and so the animal’s name was returned. Usually this is the desired effect, but sometimes you want the property of a lower-level object. To do this, XWork has added support for indexes on the ValueStack. All you have to do is:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[0].name   // call to animal.getName()
[1].name   // call to person.getName()

</code></pre>
</div>

<p>With expression like [0] ... [3] etc. Struts 2 will cut the stack and still return back a CompoundRoot object. To get the top of that particular stack cut, use <em>0</em> .top</p>

<table>
  <thead>
    <tr>
      <th>ognl expression</th>
      <th>description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>[0].top</td>
      <td>would get the top of the stack cut starting from element 0 in the stack (similar to top in this case)</td>
    </tr>
    <tr>
      <td>[1].top</td>
      <td>would get the top of the stack cut starting from element 1 in the stack</td>
    </tr>
  </tbody>
</table>

<p>#####Accessing static properties#####</p>

<p>OGNL supports accessing static properties as well as static methods.</p>

<p>By default, Struts 2 is configured to disallow this--to enable OGNL’s static member support you must set the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>struts.ognl.allowStaticMethodAccess
</code></pre>
</div>
<p>constant to</p>

<div class="highlighter-rouge"><pre class="highlight"><code>true
</code></pre>
</div>
<p>via any of the <em>Constant Configuration</em>  methods.</p>

<p>OGNL’s static access looks like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>@some.package.ClassName@FOO_PROPERTY
@some.package.ClassName@someMethod()

</code></pre>
</div>

<p>However, XWork allows you to avoid having to specify the full package name and call static properties and methods of your action classes using the “vs” prefix:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;at:var at:name="vs" /&gt;FOO_PROPERTY
&lt;at:var at:name="vs" /&gt;someMethod()

&lt;at:var at:name="vs1" /&gt;FOO_PROPERTY
&lt;at:var at:name="vs1" /&gt;someMethod()

&lt;at:var at:name="vs2" /&gt;BAR_PROPERTY
&lt;at:var at:name="vs2" /&gt;someOtherMethod()

</code></pre>
</div>

<p>“vs” stands for “value stack”. The important thing to note here is that if the class name you specify is just “vs”, the class for the object on the top of the stack is used. If you specify a number after the “vs” string, an object’s class deeper in the stack is used instead.</p>

<p>#####Differences from the WebWork 1.x EL#####</p>

<p>Besides the examples and descriptions given above, there are a few major changes in the EL since WebWork 1.x. The biggest one is that properties are no longer accessed with a forward slash (/) but with a dot (.). Also, rather than using “..” to traverse down the stack, we now use “[n]” where n is some positive number. Lastly, in WebWork 1.x one could access special named objects (the request scope attributes to be exact) by using “@foo”, but now special variables are accessed using “#foo”. However, it is important to note that “#foo” does NOT access the request attributes. Because XWork is not built only for the web, there is no concept of “request attributes”, and thus “#foo” is merely a request to another object in the OgnlContext other than the root.</p>

<table>
  <thead>
    <tr>
      <th>Old Expression</th>
      <th>New Expression</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>foo/blah</td>
      <td>foo.blah</td>
    </tr>
    <tr>
      <td>foo/someMethod()</td>
      <td>foo.someMethod()</td>
    </tr>
    <tr>
      <td>../bar/blah</td>
      <td>[1].bar.blah</td>
    </tr>
    <tr>
      <td>@baz</td>
      <td>not directly supported, but #baz is similar</td>
    </tr>
    <tr>
      <td>.</td>
      <td>‘top’ or [0]</td>
    </tr>
  </tbody>
</table>

<p>#####Struts 2 Named Objects#####</p>

<p>Struts 2 places request parameters and request, session, and application attributes on the OGNL stack. They may be accessed as shown below.</p>

<table>
  <thead>
    <tr>
      <th>name</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>#action[‘foo’] or #action.foo</td>
      <td>current action getter (getFoo())</td>
    </tr>
    <tr>
      <td>#parameters[‘foo’] or #parameters.foo</td>
      <td>request parameter [‘foo’] (request.getParameter())</td>
    </tr>
    <tr>
      <td>#request[‘foo’] or #request.foo</td>
      <td>request attribute [‘foo’] (request.getAttribute())</td>
    </tr>
    <tr>
      <td>#session[‘foo’] or #session.foo</td>
      <td>session attribute ‘foo’</td>
    </tr>
    <tr>
      <td>#application[‘foo’] or #application.foo</td>
      <td>ServletContext attributes ‘foo’</td>
    </tr>
    <tr>
      <td>#attr[‘foo’] or #attr.foo</td>
      <td>Access to PageContext if available, otherwise searches request/session/application respectively</td>
    </tr>
  </tbody>
</table>

<p>###OGNL Expression Compilation### {#PAGE_61661}</p>

<p>This document is meant as a development/integration guide for anyone wanting to use the new OGNL 2.7 features for doing byte code runtime enhancements on OGNL statements.  This is <em>not</em>  meant for general user reference as it covers what are mostly internal API development concerns.</p>

<p>##### Basic Usage#####</p>

<p>By default there isn’t much you have to do to use the new compilation abilities in OGNL.  Following is an example of compiling a simple property expression and invoking it.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
SimpleObject root = new SimpleObject();
OgnlContext context =  (OgnlContext) Ognl.createDefaultContext(null);

Node node =  (Node) Ognl.compileExpression(context, root, "user.name");
String userName = node.getAccessor().get(context, root);

</code></pre>
</div>

<p>You’ll notice that this example references the new</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ognl.enhance.ExpressionAccessor
</code></pre>
</div>
<p>class.  This is the interface used to create the enhanced expression versions of any given expression via javassist and should be used to set/get expression values from the compiled versions of the code.  Although the old</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Ognl.getValue(node, context, root)
</code></pre>
</div>
<p>method of getting/setting values will correctly detect a compiled expression and use the accessor directly as well,  it’s not going to be as fast as you doing it directly.</p>

<p>##### ognl.enhance.OgnlExpressionCompiler#####</p>

<p>The core class involved in doing the management of these expression compilations by default is</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ognl.enhance.ExpressionCompiler
</code></pre>
</div>
<p>, which implements</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ognl.enhance.OgnlExpressionCompiler
</code></pre>
</div>
<p>.  Although you can in theory use this default implementation it is not recommended for more robust integration points - such as being incorporated within a web framework.  The majority of examples here are going to be based around the strategy that Tapestry has used to integrate these new features.</p>

<p><strong> Tapestry OGNL Integration</strong></p>

<p>There are only small handful of classes/services involved in the Tapestry implementation of these features, so hopefully using them as a reference will help anyone trying to get started with this:</p>

<ul>
  <li><a href="http://svn\.apache\.org/viewvc/tapestry/tapestry4/trunk/tapestry\-framework/src/java/org/apache/tapestry/services/impl/HiveMindExpressionCompiler\.java?view=markup">org.apache.tapestry.services.impl.HiveMindExpressionCompiler</a>^[http://svn.apache.org/viewvc/tapestry/tapestry4/trunk/tapestry-framework/src/java/org/apache/tapestry/services/impl/HiveMindExpressionCompiler.java?view=markup] The Tapestry implementation of</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>ognl.enhance.OgnlExpressionCompiler
</code></pre>
</div>
<p>- which is a subclass of the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ognl.enhance.ExpressionCompiler
</code></pre>
</div>
<p>default implementation.</p>

<ul>
  <li>
    <p><a href="http://svn\.apache\.org/viewvc/tapestry/tapestry4/trunk/tapestry\-framework/src/java/org/apache/tapestry/services/impl/ExpressionEvaluatorImpl\.java?view=markup">org.apache.tapestry.services.impl.ExpressionEvaluatorImpl</a>^[http://svn.apache.org/viewvc/tapestry/tapestry4/trunk/tapestry-framework/src/java/org/apache/tapestry/services/impl/ExpressionEvaluatorImpl.java?view=markup] Main service point involved in compiling/evaluating OGNL expressions.  This is the core service that the rest of Tapestry uses when dealing with OGNL expressions.</p>
  </li>
  <li>
    <p><a href="http://svn\.apache\.org/viewvc/tapestry/tapestry4/trunk/tapestry\-framework/src/java/org/apache/tapestry/services/impl/ExpressionCacheImpl\.java?view=markup">org.apache.tapestry.services.impl.ExpressionCacheImpl</a>^[http://svn.apache.org/viewvc/tapestry/tapestry4/trunk/tapestry-framework/src/java/org/apache/tapestry/services/impl/ExpressionCacheImpl.java?view=markup] Service responsible for caching OGNL statements where appropriate.</p>
  </li>
  <li>
    <p><a href="http://svn\.apache\.org/viewvc/tapestry/tapestry4/trunk/tapestry\-framework/src/java/org/apache/tapestry/binding/ExpressionBinding\.java?view=markup">org.apache.tapestry.binding.ExpressionBinding</a>^[http://svn.apache.org/viewvc/tapestry/tapestry4/trunk/tapestry-framework/src/java/org/apache/tapestry/binding/ExpressionBinding.java?view=markup] Wrapper class which represents a single OGNL binding expression within Tapestry templates/annotations/html/etc.  Anything formally specified in an html attribute for components in Tapestry is represented by a specific type of</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>IBinding
</code></pre>
</div>
<p>,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ExpressionBinding
</code></pre>
</div>
<p>represents the type of bindings for OGNL expressions.</p>

<p>*<a href="http://svn\.apache\.org/viewvc/tapestry/tapestry4/trunk/tapestry\-framework/src/java/org/apache/tapestry/bean/BeanProviderPropertyAccessor\.java?view=markup">org.apache.tapestry.bean.BeanProviderPropertyAccessor</a>^[http://svn.apache.org/viewvc/tapestry/tapestry4/trunk/tapestry-framework/src/java/org/apache/tapestry/bean/BeanProviderPropertyAccessor.java?view=markup] One of the custom</p>

<div class="highlighter-rouge"><pre class="highlight"><code>PropertyAccessor
</code></pre>
</div>
<p>classes Tapestry registers with OGNL.  This will be a good reference for the new source code generation methods you will need to implement for your</p>

<div class="highlighter-rouge"><pre class="highlight"><code>PropertyAccessor
</code></pre>
</div>
<p>classes if you want to compile expressions.</p>

<p><strong> ExpressionEvaluator</strong></p>

<p>If you look at the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ExpressionEvaluator
</code></pre>
</div>
<p>source you’ll see a block of initialization where the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HiveMindExpressionCompiler
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>OgnlContext
</code></pre>
</div>
<p>pools are setup:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
OgnlRuntime.setCompiler(new HiveMindExpressionCompiler(_classFactory));

_contextPool = new GenericObjectPool(new PoolableOgnlContextFactory(_ognlResolver, _typeConverter));

_contextPool.setMaxActive(-1);
_contextPool.setMaxIdle(-1);
_contextPool.setMinEvictableIdleTimeMillis(POOL_MIN_IDLE_TIME);
_contextPool.setTimeBetweenEvictionRunsMillis(POOL_SLEEP_TIME);

</code></pre>
</div>

<p>Some things like null handlers/property accessor configuration has been left out but you should have enough there to get a good idea of what is going on.  Because creating new OgnlContext objects for every expression evaluation can be needlessly expensive Tapestry uses the Apache commons-pool library to manage pooling of these instances.  It is recommended that you do the same where you can.  You will also notice in other portions of the source some new method calls made on</p>

<div class="highlighter-rouge"><pre class="highlight"><code>OgnlRuntime
</code></pre>
</div>
<p>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
OgnlRuntime.clearCache();
Introspector.flushCaches();

</code></pre>
</div>

<p>The OgnlRuntime class stores static</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Map
</code></pre>
</div>
<p>-like instances of reflection meta cache information for all objects evaluated in OGNL expressions.  The new</p>

<div class="highlighter-rouge"><pre class="highlight"><code>clearCache
</code></pre>
</div>
<p>method clears these caches out as the memory footprint can get quite large after a while.  How often/when to call this will largely depend on how your framework works - just keep in mind that calling it too often will have a big impact on runtime performance of your app if you are doing normal application development sort of things with it.</p>

<p><strong> HiveMindExpressionCompiler</strong></p>

<p>Perhaps the most important class to examine is Tapestrys implementation of</p>

<div class="highlighter-rouge"><pre class="highlight"><code>OgnlExpressionCompiler
</code></pre>
</div>
<p>.  This class still extends the default</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ExpressionCompiler
</code></pre>
</div>
<p>provided by OGNL - but does a few more things that can’t be made generic enough to live in the default implementation.</p>

<p>One of these important differences is how Javassist is used to compile the expressions and the ClassLoader/ClassResolver it uses.  Because these expressions are being compiled against what are already Javassist enhanced Tapestry component class instances this implementation needed to re-use existing hivemind Javassist services so that these enhanced classes could be correctly resolved while OGNL is evaluating them.</p>

<p>If you don’t have a need to provide this kind of classloading functionality you will probably still need to modify at least how the javassist</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ClassPool
</code></pre>
</div>
<p>is being managed in your own implementations.  The internal functionality of that library is such that the memory consumption of the pool is very large and will get unwieldy especially in development of web apps.  Tapestry has a special state that users are used to which is known as “disable caching” - more or less meaning that javassist enhancements happen for every request instead of only once.</p>

<p>Another very important piece of logic that this class handles is the generation of “fail safe” getters/setters when expressions just can’t be compiled because of either internal errors or a specific syntax type used isn’t yet able to support javassist compilations.  This logic can sometimes get tricky in that in many instances OGNL expressions won’t be compilable because the full expression contains a null reference.  The basic idea is that the compiler keeps trying to compile these kinds of expressions until it either gets a fatal exception thrown or the full expression is able to be resolved.  For example, the following expression would throw a</p>

<div class="highlighter-rouge"><pre class="highlight"><code>UnsupportedCompilationException
</code></pre>
</div>
<p>if the “user” object returned was null - resulting in no direct compilation being done at all:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
"user.firstName"

</code></pre>
</div>

<p>That doesn’t mean that the user object might not be resolvable the next time this expression is invoked though,  so the next time the compiler tries it may succeed in which case the whole expression is enhanced and the new</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ExpressionAccessor
</code></pre>
</div>
<p>instance is attached to the root</p>

<div class="highlighter-rouge"><pre class="highlight"><code>Node
</code></pre>
</div>
<p>object by calling</p>

<div class="highlighter-rouge"><pre class="highlight"><code>SimpleNode.setAccessor(newInstance)
</code></pre>
</div>
<p>.</p>

<p>The fail safe logic is there for expressions that are likely to never be resolvable for one reason or another.  In these instances a</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ExpressionAccessor
</code></pre>
</div>
<p>class instance is still created - with the major difference being that instead of pure java object expressions being compiled the get/set methods on the instance just call back to the standard OGNL getValue/setValue methods:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
public Object get(OgnlContext context, Object root)
{
  return _node.getValue($1, $2);
}

</code></pre>
</div>

<p>The</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$1, $2
</code></pre>
</div>
<p>references are Javassist constructs which allow you to specify the first and second argument passed in to the calling method.</p>

<p><strong> ExpressionBinding</strong></p>

<p>As stated previously, this class represents a single OGNL expression in Tapestry when used directly in html templates - such as:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;div jwcid="@Input" value="ognl:user.firstName" /&gt;

</code></pre>
</div>

<p>What you will want to examine in this class is how it deals with incrementally attempting expression evaluations using the local members</p>

<div class="highlighter-rouge"><pre class="highlight"><code>_writeFailed, _accessor
</code></pre>
</div>
<p>.  Looking through the source of this implementation will probably be the best documentation available - but keep in mind that in many instances this object also has to deal with the possibility that a write statement may never happen.</p>

<p><strong> BeanProviderPropertyAccessor / Custom PropertyAccessor implementations</strong></p>

<p>Besides the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>OgnlExpressionCompiler
</code></pre>
</div>
<p>logic this will probably be the second most impactual area people will have to deal with in terms of having to write new code.  In this specific instance there are three new</p>

<div class="highlighter-rouge"><pre class="highlight"><code>PropertyAccessor
</code></pre>
</div>
<p>methods you must implement in order to compile your expressions:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
public Class getPropertyClass(OgnlContext context, Object target, Object name)
{
  IBeanProvider provider = (IBeanProvider)target;
  String beanName = ((String)name).replaceAll("\"", "");

  if (provider.canProvideBean(beanName))
    return provider.getBean(beanName).getClass();

  return super.getPropertyClass(context, target, name);
}

public String getSourceAccessor(OgnlContext context, Object target, Object name)
{
   IBeanProvider provider = (IBeanProvider)target;
   String beanName = ((String)name).replaceAll("\"", "");

   if (provider.canProvideBean(beanName)) {

       Class type = OgnlRuntime.getCompiler().getInterfaceClass(provider.getBean(beanName).getClass());

       ExpressionCompiler.addCastString(context, "((" + type.getName() + ")");

       context.setCurrentAccessor(IBeanProvider.class);
       context.setCurrentType(type);

       return ".getBean(" + name + "))";
   }

   return super.getSourceAccessor(context, target, name);
}

public String getSourceSetter(OgnlContext context, Object target, Object name)
{
  throw new UnsupportedCompilationException("Can't set beans on IBeanProvider.");
}

</code></pre>
</div>

<p>Although this example may not provide with all of the possible use cases you may need to learn to properly implement these methods in your own</p>

<div class="highlighter-rouge"><pre class="highlight"><code>PropertyAccessor
</code></pre>
</div>
<p>implementations - the built in OGNL versions like</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ObjectPropertyAccessor, MapPropertyAccessor, ListPropertyAccessor, etc
</code></pre>
</div>
<p>should provide more than enough data to work from. <a href="http://svn\.opensymphony\.com/svn/ognl/trunk/">http://svn.opensymphony.com/svn/ognl/trunk/</a></p>

<p>The most important part of the above logic you will want to look at is in how the new</p>

<div class="highlighter-rouge"><pre class="highlight"><code>OgnlContext
</code></pre>
</div>
<p>methods for setting object/accessor types are being set:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
context.setCurrentAccessor(IBeanProvider.class);
context.setCurrentType(type);

</code></pre>
</div>

<p>This meta information is used by the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>OgnlExpressionCompiler
</code></pre>
</div>
<p>to correctly cast your specific expression object types during compilation.  This process of casting/converting in to and out of native types is the most complicated part of this new logic and also the source of the greatest number of bugs reported in the OGNL jira. <a href="http://jira\.opensymphony\.com/browse/OGNL">http://jira.opensymphony.com/browse/OGNL</a></p>

<p>In this property accessor example the goal is to turn general statements like</p>

<div class="highlighter-rouge"><pre class="highlight"><code>beans.emailValidator
</code></pre>
</div>
<p>in to their pure source form - which would look something like this when all is said and done:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
((ValidatingBean)beanProvider.getBean("emailValidator"))

</code></pre>
</div>

<p>There is also the ever important cast handling which you must do:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
Class type = OgnlRuntime.getCompiler().getInterfaceClass(provider.getBean(beanName).getClass());

ExpressionCompiler.addCastString(context, "((" + type.getName() + ")");

</code></pre>
</div>

<p>In this example the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>PropertyAccessor
</code></pre>
</div>
<p>is trying to determine the class type and manually adding the cast string for the specific type to the overall statement by invoking the utility method</p>

<div class="highlighter-rouge"><pre class="highlight"><code>addCastString(OgnlContext, String)
</code></pre>
</div>
<p>on</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ExpressionCompiler
</code></pre>
</div>
<p>.  In many instances of expression compilation you might also be dealing with unknown method calls, where the more preferred way to do this kind of logic would be something like this: (taken from the OGNL ObjectPropertyAccessor implementation)</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
Method m = ...(various reflection gynamistics used to find a java.reflect.Method instance)

context.setCurrentType(m.getReturnType());
context.setCurrentAccessor(OgnlRuntime.getCompiler().getSuperOrInterfaceClass(m, m.getDeclaringClass()));

</code></pre>
</div>

<p>When dealing with method calls it is very important that you do this specific kind of type setting on the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>OgnlContext
</code></pre>
</div>
<p>class so that the casting done on your statements (which happens outside of the ObjectPropertyAccessor in this instance) can be done on the highest level interface defining that method.  This becomes important when you are dealing with expressions that you would like to re-use against different object instances.  For example, suppose we had an ognl expression like this (for Tapestry):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
user.firstName

</code></pre>
</div>

<p>and the object it was compiled against was an instance of something looking like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
public abstract LoginPage extends BasePage implements UserPermissions {

  public abstract User getUser();

}

..
/**
 * Interface for any page/component that holds references to the current system
 * User.
 */
public interface UserPermissions {
   User getUser();
}

</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>BasePage
</code></pre>
</div>
<p>is a Tapestry specific class which is unimportant in this example.  What is important to know is that if we had done something like this in the previous context setting example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
context.setCurrentType(m.getReturnType());
context.setCurrentAccessor(m.getDeclaringClass());

</code></pre>
</div>

<p>It would have resulted in a compiled expression of:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
public void get(OgnlContext context, Object root)
{
  return ((LoginPage)root).getUser();
}

</code></pre>
</div>

<p>This is undesirable in situations where you would like to re-use OGNL expressions across many different class instances (which is what Tapestry does via the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>ExpressionCacheImpl
</code></pre>
</div>
<p>listed above).  The better/more re-usable compiled version should really look like:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
public void get(OgnlContext context, Object root)
{
  return ((UserPermissions)root).getUser();
}

</code></pre>
</div>

<p>These are the more delicate parts of the compiler API that the majority of people will need to worry about during any integration efforts.</p>

<p>##### Known Issues / Limitations#####</p>

<ul>
  <li>
    <p><strong>Compiler Errors</strong> - Despite the substantially large number of unit tests set up and thorough usage of many different types of expressions Tapestry users are still currently running in to fatal/non caught runtime errors when some of their OGNL expressions are compiled.  In some instances these errors are blockers and they must either wait for someone to fix the bug (after being posted to <a href="http://jira\.opensymphony\.com/browse/OGNL">http://jira.opensymphony.com/browse/OGNL</a> correctly) or re-work their expression to get around the error.  I (jesse) generally try to fix these reported errors within a day or two (or sooner) when I can and immediately deploy the fixes to the OGNL snapshot maven2 repository.  This doesn’t mean that the vast majority of expressions won’t compile fine, but it is something to keep in mind when you decide how to integrate the compiler logic in to your own framework.</p>
  </li>
  <li>
    <p><strong>Compile vs. normal expression evaluation</strong> - The current Tapestry implementation compiles OGNL expressions in both development AND production modes.  This has the undesirable side effect of causing needless multiple method invocations on objects when compiling as well as the general overhead of performing compilations at all when people are just developing applications and not serving them in production environments.  It is hoped that when OGNL becomes final this special development mode can go back to using normal OGNL expression evaluation during development and save compilation for production environments,  but until then we’ve been worried about giving people false positives when testing their applications.  Meaning - something may evaluate just fine when using</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>Ognl.getValue(OgnlContext, Object root, String expression
</code></pre>
</div>
<p>but fail completely when they deploy their app to production and the compiler kicks in.  If you framework doesn’t handle separate modes or have this kind of state set up it is something to keep in mind.  The number of JIRA issues reported has gone way down since this all started but they do still trickle in which is enough to know that things aren’t yet 100% reliable.  I’m sure the plethora of Struts/WebWork/etc users available should be enough to iron out any remaining issues found but it’s something to keep in mind.</p>

<ul>
  <li><strong>Snapshot Repository</strong> - The current maven2 location of the OGNL development/snapshot release are all made to <a href="http://opencomponentry\.com/repository/m2\-snapshot\-repo/">http://opencomponentry.com/repository/m2-snapshot-repo/</a>, while releases go out to ibiblio as per normal.  If someone has a better place for these release to be made please feel free to contact jesse ( jkuhnert at gmail.com) with accessor information / instructions.</li>
</ul>

<p>##Struts Tags## {#PAGE_14248}</p>

<p>The framework provides a tag library decoupled from the view technology. In this section, we describe each tag in general terms, such as the attributes it supports, what the behaviors are, and so forth. Most tags are supported in all template languages (see <a href="#PAGE_13973">JSP Tags</a>, <a href="#PAGE_13950">Velocity Tags</a>, and <a href="#PAGE_14294">FreeMarker Tags</a>), but some are currently only specific to one language. Whenever a tag doesn’t have complete support for every language, it is noted on the tag’s reference page.</p>

<p>The types of tags can be broken in to two types: generic and UI. Besides function and responsibility, the biggest difference between the two is that the HTML tags support <em>templates</em>  and <em>themes</em> . In addition to the general tag reference, we also provide examples for using these generic tags in each of the support languages.</p>

<p>(ok)  Be sure to read the <a href="#PAGE_13927">Tag Syntax</a> document to learn how tag attribute syntax works.</p>

<p>####FAQs####</p>

<ul>
  <li>
    <p><em>Why do the form tags put table tags around controls</em> ?</p>
  </li>
  <li>
    <p><em>How can I put a String literal in a Javascript call, for instance in an onChange attribute</em> ?</p>
  </li>
  <li>
    <p><em>Why won’t the ‘if’ tag evaluate a one char string</em> ?</p>
  </li>
  <li>
    <p><em>Why does FreeMarker complain that there’s an error in my user-directive when I used JSP Tag</em> ?</p>
  </li>
  <li>
    <p><em>Can an action tag run another method apart from the default execute method</em> ?</p>
  </li>
  <li>
    <p><em>Why didn’t my action tag get executed when I have validation errors</em> ?</p>
  </li>
  <li>
    <p><em>Why are request parameters appended to our hyperlinks</em> ?</p>
  </li>
</ul>

<p>####Resources####</p>

<ul>
  <li>
    <p><a href="http://www\.vitarara\.org/cms/struts\_2\_cookbook/creating\_a\_ui\_component">Creating a UI Component in Struts 2</a>^[http://www.vitarara.org/cms/struts_2_cookbook/creating_a_ui_component] (Mark Menard)</p>
  </li>
  <li>
    <p><a href="http://www\.roseindia\.net/struts/struts2/struts\-2\-tags\.shtml">Struts 2 Tags</a>^[http://www.roseindia.net/struts/struts2/struts-2-tags.shtml] (Rose India)</p>
  </li>
</ul>

<p>####Next:####</p>

<p>###Ajax Tags### {#PAGE_31510}</p>

<p><strong>(!) Dojo plugin is deprecated</strong></p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>The Dojo plugin will be deprecated on Struts 2.1</p>
</blockquote>

<blockquote>

</blockquote>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>The easiest way to get documentation for Struts 2.0 Dojo tag usage is to look at older Struts 2 documentation, like the <a href="http://struts\.apache\.org/2\.0\.11/docs/ajax\-tags\.html">Struts 2.0.11 Ajax tags wiki documentation</a>^[http://struts.apache.org/2.0.11/docs/ajax-tags.html].</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><strong>Please</strong> check that documentation and the Dojo tag examples in the showcase app of the appropriate Struts 2 version before asking questions on the struts-user mailing list!</td>
    </tr>
  </tbody>
</table>

<h2 id="section">|</h2>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td><strong>THE WIKI IS NOT VERSIONABLE</strong> (in a practical way).</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>The documentation here is for the most current Struts 2, not necessarily the most current <em>release</em> . We try to add version-specific documentation notes but have undoubtedly missed some locations.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>#####Description#####</p>

<p>To use the AJAX tags from 2.1 on you must:</p>

<ul>
  <li>
    <p>Include the Dojo Plugin distributed with Struts 2 in your /WEB-INF/lib folder.</p>
  </li>
  <li>
    <p>Add <em>&lt;%@ taglib prefix=”sx” uri=”/struts-dojo-tags” %&gt;</em>  to your page.</p>
  </li>
  <li>
    <p>Include the <a href="#PAGE_66757">head</a> tag on the page, which can be configured for performance or debugging purposes.</p>
  </li>
</ul>

<p>#####Handling AJAX Responses#####</p>

<p>The following attributes affect the handling of all ajax responses.</p>

<p>|Attribute|Default Value|Description|
|———|————-|———–|
|parseContent|true|When true, Dojo will parse the response into an XHTML Document Object and traverse the nodes searching for Dojo Widget markup.  The parse and traversal is performed prior to inserting the nodes into the DOM. This attribute must be enabled to nest Dojo widgets (dojo tags) within responses. There’s significant processing involved to create and parse the document so switch this feature off when not required. Note also that the response must be valid XHTML for cross-browser support and widgets must have unique IDs.|
|separateScripts|true|When true, Dojo will extract the &lt;script&gt; tags from the response, concatenate the extracted code into one block, create a new Function whose body is the extracted code and immediately invoke the function. The invocation is performed after the DOM has been updated with the XHTML. The function is executed within the scope of the widget (that is, the  <strong>this</strong> variable points to the widget instance).\
\
When false, Dojo will extract the &lt;script&gt; tags from the response, concatenate the extracted code into one block and:\
\
*in IE:  invoke window.execScript() on the code\
\
*in other browsers: create a &lt;script&gt; node containing the code and insert that node into the DOM\
\
This invocation occurs after the DOM has been updated with the XHTML. Note that scripts may not be executed if it is not valid to create a &lt;script&gt; node in the DOM at the destination.|
|executeScripts|false|When true, Dojo will extract code from the &lt;script&gt; tags from the response and execute it based on the separateScripts value.\
\
When false, the XHTML response is inserted into the DOM and &lt;script&gt; nodes are ignored. |</p>

<p>It’s possible that the updated DOM will not include &lt;script&gt; nodes even though the inline code has been executed.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>Ensure the response is XHTML-compliant (including, for example, thead and tbody tags in tables).</p>

<p>| 
 If you intend to run inline javascript:</p>

<p>| 
 *Ensure the  javascript can be concatenated and executed in one block,</p>

<p>| 
 *set executeScripts=true,</p>

<p>| 
 *set separateScripts=true (the reliable option)</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>#####Topics#####</p>

<p>Most of the AJAX tags use Dojo topics for event notification and communication between them, to learn about topics visit <a href="http://dojotoolkit\.org/book/dojo\-book\-0\-4/part\-5\-connecting\-pieces/event\-system/topics">Dojo’s documentation</a>^[http://dojotoolkit.org/book/dojo-book-0-4/part-5-connecting-pieces/event-system/topics]</p>

<p>#####Examples#####</p>

<p>Examples can be found on the documentation for each tag in the <a href="#PAGE_19738">UI Tag Reference</a> page, for additional examples see <a href="#PAGE_56182">Ajax and JavaScript Recipes</a> and the Showcase application distributed with Struts 2.</p>

<p>#####Tags#####</p>

<ul>
  <li>
    <p><a href="#PAGE_66791">a</a></p>
  </li>
  <li>
    <p><a href="#PAGE_46753">autocompleter</a></p>
  </li>
  <li>
    <p><a href="#PAGE_66798">bind</a></p>
  </li>
  <li>
    <p><a href="#PAGE_14274">datetimepicker</a></p>
  </li>
  <li>
    <p><a href="#PAGE_66929">div</a></p>
  </li>
  <li>
    <p><a href="#PAGE_66757">head</a></p>
  </li>
  <li>
    <p><a href="#PAGE_66801">submit</a></p>
  </li>
  <li>
    <p><em>tabbedpanel</em></p>
  </li>
  <li>
    <p><a href="#PAGE_66931">textarea</a></p>
  </li>
  <li>
    <p><a href="#PAGE_14168">tree</a></p>
  </li>
  <li>
    <p><a href="#PAGE_14288">treenode</a></p>
  </li>
</ul>

<p>####Ajax and JavaScript Recipes#### {#PAGE_56182}</p>

<p><strong>(!) Dojo plugin is deprecated</strong></p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>The Dojo plugin will be deprecated on Struts 2.1</p>
</blockquote>

<blockquote>

</blockquote>

<p><strong>Common</strong></p>

<p>All examples on this page assume the following JSP fragment is on the same page as the example.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;%@ taglib prefix="s" uri="/struts-tags" %&gt;
&lt;%@ taglib prefix="sx" uri="/struts-dojo-tags" %&gt;

&lt;head&gt;
    &lt;sx:head /&gt;
&lt;/head&gt;

&lt;s:url id="url" value="/MyAction.action" /&gt;

</code></pre>
</div>

<p><strong>Requests</strong></p>

<p><strong>Request is triggered by a topic</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:submit value="Make Request" onclick="dojo.event.topic.publish('/request')" /&gt;
&lt;sx:bind listenTopics="/request" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Attached to an event</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind sources="submit" events="onclick" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Attached to an event on multiple sources</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:submit value="Make Request" id="submit0" /&gt;
&lt;s:submit value="Make Request" id="submit1" /&gt;
&lt;sx:bind sources="submit0,submit1" events="onclick" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Attached to multiple events on multiple sources</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:textarea id="area0" /&gt;
&lt;s:textarea id="area1" /&gt;
&lt;sx:bind sources="area0,area1" events="onfocus,onchange" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Update target element with content returned from url</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:div id="div" /&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind targets="div" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit targets="div" value="Make Request" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a targets="div" value="Make Request" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Update multiple target elements with content returned from url</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:div id="div0" /&gt;
&lt;s:div id="div1" /&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind targets="div0,div1" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit targets="div0,div1" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a targets="div0,div1" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Show indicator while request is in progress</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;img id="indicator" src="${pageContext.request.contextPath}/images/indicator.gif" style="display:none" /&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind indicator="indicator" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit indicator="indicator" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a indicator="indicator" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Highlight content of target with blue color, for 2 seconds</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:div id="div" /&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind highlightColor="blue" highlightDuration="2000" targets="div" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit highlightColor="blue" highlightDuration="2000" targets="div" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a highlightColor="blue" highlightDuration="2000" targets="div" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Execute JavaScript in the returned content</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:div id="div" /&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind executeScripts="true" targets="div" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit executeScripts="true" targets="div" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a executeScripts="true" targets="div" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Publish a topic before the request</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
dojo.event.topic.subscribe("/before", function(event, widget){
   alert('inside a topic event. before request');
   //event: event object
   //widget: widget that published the topic
});
&lt;/script&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind beforeNotifyTopics="/before" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit beforeNotifyTopics="/before" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a beforeNotifyTopics="/before" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Publish a topic after the request</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
dojo.event.topic.subscribe("/after", function(data, request, widget){
   alert('inside a topic event. after request');
   //data : text returned from request
   //request: XMLHttpRequest object
   //widget: widget that published the topic
});
&lt;/script&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind afterNotifyTopics="/after" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit afterNotifyTopics="/after" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a afterNotifyTopics="/after" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Publish a topic on error</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
dojo.event.topic.subscribe("/error", function(error, request, widget){
   alert('inside a topic event. on error');
   //error : error object (error.message has the error message)
   //request: XMLHttpRequest object
   //widget: widget that published the topic
});
&lt;/script&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind errorNotifyTopics="/error" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit errorNotifyTopics="/error" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a errorNotifyTopics="/error" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Show a fixed error message on error</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;div id="div" /&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind errorText="Error Loading" targets="div" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit errorText="Error Loading" targets="div" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a errorText="Error Loading" targets="div" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Prevent a request</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
dojo.event.topic.subscribe("/before", function(event, widget){
   alert('I will stop this request');
   event.cancel = true;
});
&lt;/script&gt;


&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind beforeNotifyTopics="/before" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit beforeNotifyTopics="/before" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a beforeNotifyTopics="/before" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Submit a form (plain form)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;form id="form"&gt;
  &lt;input type=textbox name="data"&gt;
&lt;/form&gt;

&lt;!-- With a bind tag --&gt;
&lt;s:submit value="Make Request" id="submit" /&gt;
&lt;sx:bind formId="form" sources="submit" events="onclick" href="%{#url}" /&gt;

&lt;!-- With a submit tag --&gt;
&lt;sx:submit formId="form" href="%{#url}" /&gt;

&lt;!-- With an anchor tag --&gt;
&lt;sx:a formId="form" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Submit a form (using s:form tag)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;!-- With a submit tag --&gt;
&lt;s:form namespace="/mynamespace" action="MyAction"&gt;
  &lt;input type=textbox name="data"&gt;
  &lt;sx:submit /&gt;
&lt;/s:form&gt;

&lt;!-- With an anchor tag --&gt;
&lt;s:form namespace="/mynamespace" action="MyAction"&gt;
  &lt;input type=textbox name="data"&gt;
  &lt;sx:a /&gt;
&lt;/s:form&gt;

</code></pre>
</div>

<p><strong>Div</strong></p>

<p><strong>Loads its content after page is loaded</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:div href="%{#url}"&gt;
  Initial Content
&lt;/sx:div&gt;

</code></pre>
</div>

<p><strong>Reloads content when topic is published</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:div href="%{#url}" listenTopics="/refresh"&gt;
  Initial Content
&lt;/sx:div&gt;

&lt;s:submit value="Refresh" onclick="dojo.event.topic.publish('/refresh')" /&gt;

</code></pre>
</div>

<p><strong>Updates its content every 2 seconds, shows indicator while loading content</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;img id="indicator" src="${pageContext.request.contextPath}/images/indicator.gif" style="display:none"/&gt;
&lt;sx:div href="%{#url}" updateFreq="2000"&gt;
  Initial Content
&lt;/sx:div&gt;

</code></pre>
</div>

<p><strong>Loads its content after a delay of 2 seconds</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:div href="%{#url}" delay="2000"&gt;
  Initial Content
&lt;/sx:div&gt;

</code></pre>
</div>

<p><strong>Show some text while content is loaded</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:div href="%{#url}" loadingText="reloading" showLoadingText="true"&gt;
  Initial Content
&lt;/sx:div&gt;

</code></pre>
</div>

<p><strong>Fixed error message</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:div href="noaction" errorText="Error loading content"&gt;
  Initial Content
&lt;/sx:div&gt;

</code></pre>
</div>

<p><strong>Execute JavaScript in the returned content</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:div href="%{#url}" executeScripts="true"&gt;
  Initial Content
&lt;/sx:div&gt;

</code></pre>
</div>

<p><strong>Control refresh timer using topics</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:div href="%{#url}"
        listenTopics="/refresh"
	startTimerListenTopics="/startTimer"
	stopTimerListenTopics="/stopTimer"
	updateFreq="3000"&gt;
  Initial Content
&lt;/sx:div&gt;

&lt;s:submit value="Refresh" onclick="dojo.event.topic.publish('/refresh')" /&gt;
&lt;s:submit value="Start refresh timer" onclick="dojo.event.topic.publish('/startTimer')" /&gt;
&lt;s:submit value="Stop refresh timer" onclick="dojo.event.topic.publish('/stopTimer')" /&gt;

</code></pre>
</div>

<p><strong>Date and Time picker</strong></p>

<p><strong>Date picker</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:datetimepicker name="picker" /&gt;

</code></pre>
</div>

<p><strong>Time picker</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:datetimepicker type="time" name="picker" /&gt;

</code></pre>
</div>

<p><strong>Set value from an String</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:datetimepicker value="%{'2007-01-01'}" name="picker" /&gt;

</code></pre>
</div>

<p><strong>Set value from stack (value must evaluate to either a Date, Calendar, or an String that can be parsed using the formats defined in SimpleDateFormat, and RFC 3339)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:datetimepicker value="date" name="picker" /&gt;

</code></pre>
</div>

<p><strong>Set/Get value using JavaScript</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
  function setValue() {
     var picker = dojo.widget.byId("picker");
     
     //string value
     picker.setValue('2007-01-01');
     
     //Date value
     picker.setValue(new Date());
  }
  
  function showValue() {
     var picker = dojo.widget.byId("picker");
     
     //string value
     var stringValue = picker.getValue();
     alert(stringValue);
      
     //date value
     var dateValue = picker.getDate();
     alert(dateValue);
  }
&lt;/script&gt;

&lt;sx:datetimepicker id="picker" /&gt;

</code></pre>
</div>

<p><strong>Style the textbox</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:datetimepicker id="picker" cssStye="background:red" cssClass="someclass"/&gt;

</code></pre>
</div>

<p><strong>Publish topic when value changes</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
  dojo.event.topic.subscribe("/value", function(text, date, widget){
      alert('value changed');
      //textEntered: String entered in the textbox
      //date: JavaScript Date object with the value selected
      //widget: widget that published the topic 
  });
&lt;/script&gt; 

&lt;sx:datetimepicker label="Order Date" valueNotifyTopics="/value"/&gt;

</code></pre>
</div>

<p><strong>Use other locales.</strong></p>

<p>Locales must be specified in the sx:head tag.</p>

<blockquote>

</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:head extraLocales="en-us,nl-nl,de-de" /&gt;

&lt;sx:datetimepicker label="In German" name="dddp7" value="%{'2006-06-28'}" language="de-de" /&gt;
&lt;sx:datetimepicker label="In Dutch"  name="dddp8" value="%{'2006-06-28'}" language="nl-nl" /&gt;

</code></pre>
</div>

<p><strong>Tabbed Panel</strong></p>

<p><strong>Local Tabs</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel id="tabContainer"&gt;
   &lt;sx:div label="Tab 1" &gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div label="Tab 2" &gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Local and remote tabs</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel id="tabContainer"&gt;
   &lt;sx:div label="Local Tab 1" &gt;
       Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div label="Remote Tab 2" href="%{#url}"&gt;
       Remote Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Fixed size (size does not adjust to current tab)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel cssStyle="width: 500px; height: 300px;" doLayout="true" id="tabContainer"&gt;
   &lt;sx:div label="Tab 1" &gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div label="Tab 2" &gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Do not load tab 2 when page loads (it will be loaded when selected)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel id="tabContainer"&gt;
   &lt;sx:div label="Remote Tab 1" href="%{#url}"&gt;
       Remote Tab 1
   &lt;/sx:div&gt;  
   &lt;sx:div label="Remote Tab 2" href="%{#url}" preload="false"&gt;
       Remote Tab 1
   &lt;/sx:div&gt;      
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Reload tabs content when selected</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel id="tabContainer"&gt;
   &lt;sx:div label="Remote Tab 1" href="%{#url}" refreshOnShow="true"&gt;
       Remote Tab 1
   &lt;/sx:div&gt;  
   &lt;sx:div label="Remote Tab 2" href="%{#url}" refreshOnShow="true"&gt;
       Remote Tab 2
   &lt;/sx:div&gt;      
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Disabled tabs</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel id="tabContainer"&gt;
   &lt;sx:div label="Tab 1" &gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div label="Tab 2" disabled="true"&gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Enable/Disable tabs using JavaScript</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
   function enableTab(param) {
      var tabContainer = dojo.widget.byId('tabContainer');
      tabContainer.enableTab(param);
   }
    
   
   function disableTab(param) {
      var tabContainer = dojo.widget.byId('tabContainer');
      tabContainer.disableTab(param);
   }
&lt;/script&gt;

&lt;sx:tabbedpanel id="tabContainer" id="tabContainer"&gt;
   &lt;sx:div id="tab1" label="Tab 1"&gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div id="tab2" label="Tab 2" disabled="true"&gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

&lt;!-- By Tab Index --&gt;
&lt;input type="button" onclick="enableTab(1)" value="Enable Tab 2 using Index" /&gt;
&lt;input type="button" onclick="disableTab(1)" value="Disable Tab 2 using Index" /&gt;
    
&lt;!-- By Tab Id --&gt;
&lt;input type="button" onclick="enableTab('tab2')" value="Enable Tab 2 using Id" /&gt;
&lt;input type="button" onclick="disableTab('tab2')" value="Disable Tab 2 using Id" /&gt;
   
&lt;!-- By Widget --&gt;
&lt;input type="button" onclick="enableTab(dojo.widget.byId('tab2'))" value="Enable Tab 2 using widget" /&gt;
&lt;input type="button" onclick="disableTab(dojo.widget.byId('tab2'))" value="Disable Tab 2 using widget" /&gt;

</code></pre>
</div>

<p><strong>Set Tab labels position to bottom (can be: top, right, bottom, left)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel labelposition="bottom" id="tabContainer"&gt;
   &lt;sx:div label="Tab 1" &gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div label="Tab 2" &gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Allow tab 2 to be removed(closed)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel id="tabContainer"&gt;
   &lt;sx:div label="Tab 1" &gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div label="Tab 2"  closable="true"&gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Publish topics when tab is selected</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
   dojo.event.topic.subscribe('/before', function(event, tab, tabContainer) {
      alert("Before selecting tab");
   });

   dojo.event.topic.subscribe('/after', function(tab, tabContainer) {
      alert("After tab was selected");
   });
&lt;/script&gt;
&lt;sx:tabbedpanel beforeSelectTabNotifyTopics="/before" afterSelectTabNotifyTopics="/after" id="tabContainer"&gt;
   &lt;sx:div label="Tab 1"&gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div label="Tab 2"&gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Select tab using JavaScript</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
   function selectTab(id) {
     var tabContainer = dojo.widget.byId("tabContainer");
     tabContainer.selectTab(id);
   }
&lt;/script&gt;
&lt;sx:tabbedpanel id="tabContainer"&gt;
   &lt;sx:div label="Tab 1" id="tab1"&gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div label="Tab 2" id="tab2"&gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

&lt;input type="button" onclick="selectTab('tab1')" value="Select tab 1" /&gt;
&lt;input type="button" onclick="selectTab('tab2')" value="Select tab 2" /&gt;

</code></pre>
</div>

<p><strong>Prevent tab 2 from being selected</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
   dojo.event.topic.subscribe('/before', function(event, tab, tabContainer) {
      event.cancel = tab.widgetId == "tab2" ;
   });
&lt;/script&gt;
&lt;sx:tabbedpanel beforeSelectTabNotifyTopics="/before" id="tabContainer"&gt;
   &lt;sx:div id="tab1" label="Tab 1"&gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div id="tab2" label="Tab 2"&gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Customize template css path (Dojo widget template css)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:tabbedpanel templateCssPath="%{#cssUrl}" id="tabContainer"&gt;
   &lt;sx:div id="tab1" label="Tab 1"&gt;
       Local Tab 1
   &lt;/sx:div&gt;   
   &lt;sx:div id="tab2" label="Tab 2"&gt;
       Local Tab 2
   &lt;/sx:div&gt;   
&lt;/sx:tabbedpanel&gt;

</code></pre>
</div>

<p><strong>Autocompleter</strong></p>

<p><strong>Fixed list</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter list="{'apple','banana','grape','pear'}" /&gt;

</code></pre>
</div>

<p><strong>Set initial value</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter list="{'apple','banana','grape','pear'}" value="apple"/&gt;

</code></pre>
</div>

<p><strong>Force valid option (restore option when focus is lost)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter list="{'apple','banana','grape','pear'}" forceValidOption="true"/&gt;

</code></pre>
</div>

<p><strong>Using the JSON plugin to generate the values (one of the possible ways)</strong></p>

<p>The action</p>

<p><strong>AutocompleterExample.java</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
public class AutocompleterExample extends ActionSupport {

   public Map&lt;String, String&gt; getOptions() {
      Map&lt;String,String&gt; options = new HashMap&lt;String,String&gt;();
      options.put("Florida", "FL");
      options.put("Alabama", "AL");

      return options;
   }
}

</code></pre>
</div>

<p>The mapping:</p>

<p><strong>struts.xml</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;struts&gt;
...
   &lt;package name="autocompleter" namespace="/autocompleter" extends="json-default"&gt;
       &lt;action name="getStates" class="AutocompleterExample"&gt;
           &lt;result type="json"&gt;
               &lt;param name="root"&gt;options&lt;/param&gt;&lt;/result&gt;
       &lt;/action&gt;
   &lt;/package&gt;
...
&lt;/struts&gt;

</code></pre>
</div>

<p>The JSP (fragment):</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:url id="optionsUrl" namespace="/autocompleter" action="getStates" /&gt;

&lt;sx:autocompleter href="%{#optionsUrl}" /&gt;

</code></pre>
</div>

<p><strong>Example action</strong></p>

<p>When a form containing an autocompleter is submitted, two values will be submitted for each autocompleter, one for the selected value, and one for its associated key.</p>

<p>The action:</p>

<p><strong>MyAction.java</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
public MyAction extends ActionSupport {
    private String optionsKey;
    private String options;

    ...    
}

</code></pre>
</div>

<p>The JSP:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:form id="form"&gt;
  &lt;sx:autocompleter name="options" label="Options" /&gt;
&lt;/s:form&gt;

</code></pre>
</div>

<p><strong>Set initial key and value</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:url id="optionsUrl" namespace="/autocompleter" action="getStates" /&gt;

&lt;sx:autocompleter href="%{#optionsUrl}" value="Florida" keyValue="FL"/&gt;

</code></pre>
</div>

<p><strong>Change default key name</strong></p>

<p>The action:</p>

<p><strong>MyAction.java</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
public MyAction extends ActionSupport {
    private String superKey;
    private String options;

    ...    
}

</code></pre>
</div>

<p>The JSP:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:form id="form"&gt;
  &lt;sx:autocompleter keyName="superKey" name="options" label="Options" /&gt;
&lt;/s:form&gt;

</code></pre>
</div>

<p><strong>JSON accepted</strong></p>

<p>for this autocompleter:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter name="state" /&gt;

</code></pre>
</div>

<p>The following JSON will be accepted:</p>

<p><strong>Map(recommended as it is the easiest one to generate)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"Alabama"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"Alaska"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AK"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>
</div>

<p><strong>Array of arrays</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
[
    ["Alabama", "AL"],
    ["Alaska", "AK"]
]

</code></pre>
</div>

<p><strong>Array inside object, same name as field</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"Alabama"</span><span class="p">,</span><span class="s2">"AL"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"Alaska"</span><span class="p">,</span><span class="s2">"AK"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">     

</span></code></pre>
</div>

<p><strong>Map inside object, same name as field</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"state"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"Alabama"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Alabama"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Alaska"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AK"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">    

</span></code></pre>
</div>

<p><strong>Array inside object, field in response starts with the name of the autocompleter(“state” in this example)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"states"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">[</span><span class="s2">"Alabama"</span><span class="p">,</span><span class="s2">"AL"</span><span class="p">],</span><span class="w">
        </span><span class="p">[</span><span class="s2">"Alaska"</span><span class="p">,</span><span class="s2">"AK"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">     

</span></code></pre>
</div>

<p><strong>No name match, use first array found, and hope for the best</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nt">"Australopithecus"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="p">[</span><span class="s2">"Alabama"</span><span class="p">,</span><span class="s2">"AL"</span><span class="p">],</span><span class="w">
       </span><span class="p">[</span><span class="s2">"Alaska"</span><span class="p">,</span><span class="s2">"AK"</span><span class="p">]</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">     

</span></code></pre>
</div>

<p><strong>Load characters while user types (when text size &gt;= 3)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter href="%{#url}" loadOnTextChange="true" loadMinimumCount="3" /&gt;

</code></pre>
</div>

<p><strong>Hide dropdown arrow</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter href="%{#url}" showDownArrow="false" /&gt;

</code></pre>
</div>

<p><strong>Limit options shown to 3</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter href="%{#url}" resultsLimit="3" /&gt;

</code></pre>
</div>

<p><strong>All matching options are shown</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter href="%{#url}" resultsLimit="-1" /&gt;

</code></pre>
</div>

<p><strong>Set dropdown height and width, in pixels</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter href="%{#url}" dropdownHeight="180" dropdownWidth="200" /&gt;

</code></pre>
</div>

<p><strong>Disable it when page is loaded</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter href="%{#url}" disabled="true" /&gt;

</code></pre>
</div>

<p><strong>Disable it/enable it using JavaScript</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
  function enableit() {
     var autoCompleter = dojo.widget.byId("auto");
     autoCompleter.enable();
  }

  function disableit() {
     var autoCompleter = dojo.widget.byId("auto");
     autoCompleter.disable();
  }
&lt;/script&gt;

&lt;sx:autocompleter id="auto" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Reload options when topic is published</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter listenTopics="/reload" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Submit form when options are loaded</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:form id="form"&gt;
  &lt;input type="textbox" name="data"&gt;
&lt;/s:form&gt;

&lt;sx:autocompleter formId="form" href="%{#url}"  /&gt;

</code></pre>
</div>

<p><strong>Filter fields top be submitted when options are loaded (return true to include)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;script type="text/javascript"&gt;
  function filter(input) {
     return input.name == "data1";
  }
&lt;/script&gt;

&lt;s:form id="form"&gt;
  &lt;input type="textbox" name="data0"&gt;
  &lt;input type="textbox" name="data1"&gt;
&lt;/s:form&gt;

&lt;sx:autocompleter formId="form" formFilter="filter" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Link two autocompleters, using topics</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;form id="selectForm"&gt;
   &lt;sx:autocompleter  name="select" list="{'fruits','colors'}"  valueNotifyTopics="/changed" /&gt;
&lt;/form&gt;

&lt;sx:autocompleter  href="%{#url}" formId="selectForm" listenTopics="/changed" /&gt;

</code></pre>
</div>

<p><strong>Show options, but don’t make suggestion (autocomple) in the textbox</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter autoComplete="false" href="%{#url}" /&gt;

</code></pre>
</div>

<p><strong>Prevent options from loading when page loads</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;sx:autocompleter preload="false" href="%{#url}" /&gt;

</code></pre>
</div>

<p>###Generic Tags### {#PAGE_19745}</p>

<p>#####Generic Tags#####</p>

<p>Generic tags are used for controlling the execution flow when the pages render. These tags also allow for data extraction from places other than your action or the value stack, such as <em>Localization</em> , JavaBeans, and including additional URLs or action executions.</p>

<ul>
  <li>Control Tags provide control flow, such as</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>if
</code></pre>
</div>
<p>,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>else
</code></pre>
</div>
<p>, and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>iterator
</code></pre>
</div>
<p>.</p>

<ul>
  <li>Data Tags allow for data manipulation or creation, such as</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>bean
</code></pre>
</div>
<p>,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>push
</code></pre>
</div>
<p>, and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>i18n
</code></pre>
</div>
<p>.</p>

<p>#####Next#####</p>

<p>###Tag Reference### {#PAGE_19705}</p>

<p><strong>Generic Tags</strong></p>

<p><strong>UI Tags</strong></p>

<p>#####Next#####</p>

<p>####Generic Tag Reference#### {#PAGE_19735}</p>

<p>Struts Generic Tags control the execution flow as pages render.</p>

<p>|Control Tags |\
\
+ <a href="#PAGE_14179">if</a>\
\
+ <a href="#PAGE_13964">elseif</a>\
\
+ <a href="#PAGE_13845">else</a>\
\
+ <a href="#PAGE_14241">append</a>\
\
+ <a href="#PAGE_13883">generator</a>\
\
+ <a href="#PAGE_13893">iterator</a>\
\
+ <a href="#PAGE_14143">merge</a>\
\
+ <a href="#PAGE_14132">sort</a>\
\
+ <a href="#PAGE_14071">subset</a>\
| Data Tags |\
\
+ <a href="#PAGE_14027">a</a>\
\
+ <a href="#PAGE_14034">action</a>\
\
+ <a href="#PAGE_13979">bean</a>\
\
+ <a href="#PAGE_13821">date</a>\
\
+ <a href="#PAGE_13823">debug</a>\
\
+ <a href="#PAGE_13880">i18n</a>\
\
+ <a href="#PAGE_13864">include</a>\
\
+ <a href="#PAGE_13825">param</a>\
\
+ <a href="#PAGE_13960">property</a>\
\
+ <a href="#PAGE_14121">push</a>\
\
+ <a href="#PAGE_14256">set</a>\
\
+ <a href="#PAGE_14044">text</a>\
\
+ <a href="#PAGE_13898">url</a>\
|
|————-|————————————————————————————————————————————————————————————————————————————————-|———–|———————————————————————————————————————————————————————————————————————————————————————————————————————————————|</p>

<p><strong>Next:</strong></p>

<p>#####Control Tags##### {#PAGE_14108}</p>

<p>Controls tags provide the ability to manipulate collections and conditionally produce content.</p>

<table>
  <tbody>
    <tr>
      <td>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<ol>
  <li>
    <p><a href="#PAGE_14179">if</a></p>
  </li>
  <li>
    <p><a href="#PAGE_13964">elseIf / elseif</a></p>
  </li>
  <li>
    <p><a href="#PAGE_13845">else</a></p>
  </li>
  <li>
    <p><a href="#PAGE_14241">append</a></p>
  </li>
  <li>
    <p><a href="#PAGE_13883">generator</a></p>
  </li>
  <li>
    <p><a href="#PAGE_13893">iterator</a></p>
  </li>
  <li>
    <p><a href="#PAGE_14143">merge</a></p>
  </li>
  <li>
    <p><a href="#PAGE_14132">sort</a></p>
  </li>
  <li>
    <p><a href="#PAGE_14071">subset</a></p>
  </li>
</ol>

<p>@see src/META-INF/taglib.tld</p>

<p><strong>Next:</strong></p>

<p>#####a##### {#PAGE_14027}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Anchor</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>While this tag can be used with the <a href="#PAGE_14291">simple theme</a>, <a href="#PAGE_13834">xhtml theme</a>, and others, it is really designed to work best with the <a href="#PAGE_14205">ajax theme</a>. We recommend reading the <em>ajax a template</em>  documentation for more details.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/a.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Usage</strong></p>

<p>To get started, use the <a href="#PAGE_13997">head</a> tag and the <a href="#PAGE_14205">ajax theme</a>. See <em>ajax head template</em>  for more information. Then look at the usage details for the <em>ajax a template</em> .</p>

<p> </p>

<p>If you want to use additional parameters in your s:a the best practice is to use a s:url to create your url and then leverage this url into your s:a tag. This is done by creating a s:url and specifying an id attribute.. like “testUrlId” in this example. Then in the s:a tag reference this id in the href attribute via “ %{testUrlId}”</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:url var="testUrlId" namespace="/subscriber" action="customField" method="delete"&gt;
    &lt;s:param name="customFieldDefinition.id" value="${id}"/&gt;
&lt;/s:url&gt;
&lt;s:a errorText="Sorry your request had an error." preInvokeJS="confirm('Are you sure you want to delete this item?')" href="%{testUrlId}"&gt;
    &lt;img src="&lt;s:url value="/images/delete.gif"/&gt;" border="none"/&gt;
&lt;/s:a&gt;

&lt;img xsrc="&lt;s:url value="/images/delete.gif"/&gt;" border="none"/&gt;&lt;s:a&gt;&lt;img xsrc="&lt;s:url value="/images/delete.gif"/&gt;" border="none"/&gt;&lt;/s:a&gt;

</code></pre>
</div>

<p>#####action##### {#PAGE_14034}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.ActionComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Parameters can be passed to the action using nested <a href="#PAGE_13825">param</a> tags.</p>

<p><strong>Placement in context</strong></p>

<p>The action will not be published to the context until the whole tag is evaluated, meaning that inside the body of the tag, the action cannot be accessed, For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:action var="myAction" name="MyAction" namespace="/"&gt;
    Is "myAction" null inside the tag? &lt;s:property value="#myAction == null" /&gt;
&lt;/s:action&gt;
    Is "myAction" null outside the tag? &lt;s:property value="#myAction == null" /&gt;

</code></pre>
</div>

<p>Will print:</p>

<p>Is “myAction” null inside the tag? true</p>

<p>Is “myAction” null outside the tag? false</p>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/action.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javacode|javadoc=true|lang=java|url=org.apache.struts2.components.ActionComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=strutsxml|javadoc=true|lang=xml|url=org.apache.struts2.components.ActionComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|javadoc=true|lang=xml|url=org.apache.struts2.components.ActionComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####append##### {#PAGE_14241}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.AppendIterator</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/append.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Example</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=code|lang=java|javadoc=true|url=org.apache.struts2.components.AppendIterator</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|javadoc=true|lang=xml|url=org.apache.struts2.components.AppendIterator</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####bean##### {#PAGE_13979}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Bean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/bean.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=examples|javadoc=true|lang=xml|url=org.apache.struts2.components.Bean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=examplesdescription|javadoc=true|url=org.apache.struts2.components.Bean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####date##### {#PAGE_13821}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Date</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/date.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Date</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####debug##### {#PAGE_13823}</p>

<p>Outputs the content of the Value Stack.</p>

<p>#####else##### {#PAGE_13845}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Else</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/else.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Else</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####elseif##### {#PAGE_13964}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.ElseIf</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/elseif.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.ElseIf</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####generator##### {#PAGE_13883}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.views.jsp.iterator.IteratorGeneratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/generator.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.views.jsp.iterator.IteratorGeneratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####i18n##### {#PAGE_13880}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.I18n</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/i18n.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.I18n</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####if##### {#PAGE_14179}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<p>Perform basic condition flow. ‘If’ tag could be used by itself or can be followed by zero or more ‘Else if’ Tags followed by zero or one ‘Else’ Tag.</p>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/if.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=struts2/core/src/main/java/org/apache/struts2/components/If.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####include##### {#PAGE_13864}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Include</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>(!) How To access parameters</strong></p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>Parameters are passed as request parameters, so use the ${param.ParamName} notation to access them. Do not use the <strong>property</strong> tag to access parameters in included files.</p>
</blockquote>

<blockquote>

</blockquote>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/include.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Example</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=java|javadoc=true|url=org.apache.struts2.components.Include</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exampledescription|lang=none|javadoc=true|url=org.apache.struts2.components.Include</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####iterator##### {#PAGE_13893}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>The id attribute is deprecated in Struts 2.1.x, and has been replaced by the var attribute.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>The begin, end and step attributes are only available from 2.1.7 on</p>

<blockquote>

</blockquote>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/iterator.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1description|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1code|lang=xml|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2description|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2code|lang=xml|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3description|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3code|lang=xml|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4description|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4code|lang=xml|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example5description|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example5code|lang=xml|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example6description|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example6code|lang=xml|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example7description|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example7code|lang=xml|javadoc=true|url=org.apache.struts2.components.IteratorComponent</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####merge##### {#PAGE_14143}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.MergeIterator</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/merge.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javacode|lang=java|javadoc=true|url=org.apache.struts2.components.MergeIterator</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.MergeIterator</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####param##### {#PAGE_13825}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Param</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/param.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Param</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exampledescription|javadoc=true|url=org.apache.struts2.components.Param</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####property##### {#PAGE_13960}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Property</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/property.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Property</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exampledescription|lang=none|javadoc=true|url=org.apache.struts2.components.Property</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####push##### {#PAGE_14121}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/push.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1description|lang=none|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2description|lang=none|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3description|lang=none|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4|lang=xml|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4description|lang=none|javadoc=true|url=org.apache.struts2.components.Push</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####set##### {#PAGE_14256}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Set</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/set.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Set</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####sort##### {#PAGE_14132}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SortIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|url=struts2-tags/sort.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SortIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####subset##### {#PAGE_14071}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SubsetIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/subset.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=action|lang=java|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SubsetIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SubsetIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SubsetIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SubsetIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4|lang=xml|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SubsetIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example5|lang=xml|javadoc=true|url=org.apache.struts2.views.jsp.iterator.SubsetIteratorTag</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####text##### {#PAGE_14044}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Text</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>For more details on using resource bundles with Struts 2 read the <em>localization guide</em> .</p>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/text.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exdescription|lang=none|javadoc=true|url=org.apache.struts2.components.Text</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Text</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Other example</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:text name="format.money"&gt;&lt;s:param name="value" value="myMoneyValue"/&gt;&lt;/s:text&gt;

</code></pre>
</div>

<p>where the following is in a regular (possibly locale-specific) properties file:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
format.money={0,number,currency}

</code></pre>
</div>

<p>For more about formatting text, see</p>

<ol>
  <li>
    <p><a href="http://java.sun.com/j2se/1.4.2/docs/api/java/text/MessageFormat.html">http://java.sun.com/j2se/1.4.2/docs/api/java/text/MessageFormat.html</a></p>
  </li>
  <li>
    <p><a href="http://java.sun.com/docs/books/tutorial/i18n/format/decimalFormat.html">http://java.sun.com/docs/books/tutorial/i18n/format/decimalFormat.html</a></p>
  </li>
</ol>

<p><strong>If you wish to use i18n in your tag attributes</strong></p>

<p>This will <strong>not</strong> work:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:textfield name="lastName" label="&lt;s:text name="person.lastName"/&gt;" ../&gt;

</code></pre>
</div>

<p>Instead, you should use the getText() method that you inherit when your Action extends XWork’s ActionSupport:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:textfield name="lastName" label="getText('person.lastName')" ../&gt;

</code></pre>
</div>

<p>#####url##### {#PAGE_13898}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>The id attribute is deprecated in Struts 2.1.x, and has been replaced by the var attribute.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.URL</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Setting a default value for includeParams</strong></p>

<p>The property <em>struts.url.includeParams</em>  can be used to set the default value of the <em>includeParams</em>  attribute.</p>

<p><strong>Setting the default value of includeParams</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;struts&gt;
   ...
   &lt;constant name="struts.url.includeParams" value="none" /&gt;
   ...
&lt;/struts&gt;

</code></pre>
</div>

<p>See <em>Constant Configuration</em>  for further information.</p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>As of Struts 2.1.3 the includeParams constant defaults to “none”.</p>
</blockquote>

<blockquote>

</blockquote>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/url.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.URL</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>####UI Tag Reference#### {#PAGE_19738}</p>

<p>Struts UI Tags display data in rich and reusable HTML.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>| |Form Tags|\
\
+ <a href="#PAGE_14029">checkbox</a>\
\
+ <a href="#PAGE_13969">checkboxlist</a>\
\
+ <a href="#PAGE_14259">combobox</a>\
\
+ <a href="#PAGE_40506485">datetextfield</a>\
\
+ <a href="#PAGE_14005">doubleselect</a>\
\
+ <a href="#PAGE_13997">head</a>\
\
+ <a href="#PAGE_14283">file</a>\
\
+ <a href="#PAGE_14201">form</a>\
\
+ <a href="#PAGE_14313">hidden</a>\
\
+ <a href="#PAGE_17268774">inputtransferselect</a>\
\
+ <a href="#PAGE_14167">label</a>\
\
+ <a href="#PAGE_13943">optiontransferselect</a>\
\
+ <a href="#PAGE_14170">optgroup</a>\
\
+ <a href="#PAGE_13826">password</a>\
\
+ <a href="#PAGE_14226">radio</a>\
\
+ <a href="#PAGE_13833">reset</a>\
\
+ <a href="#PAGE_14127">select</a>\
\
+ <a href="#PAGE_14054">submit</a>\
\
+ <a href="#PAGE_13926">textarea</a>\
\
+ <a href="#PAGE_13912">textfield</a>\
\
+ <a href="#PAGE_13998">token</a>\
\
+ <a href="#PAGE_13884">updownselect</a>\
|Non-Form UI Tags|\
\
+ <a href="#PAGE_14130">actionerror</a>\
\
+ <a href="#PAGE_14023">actionmessage</a>\
\
+ <a href="#PAGE_14033">component</a>\
\
+ <a href="#PAGE_13908">div</a>\
\
+ <a href="#PAGE_14151">fielderror</a>\
|Ajax Tags|\
\
+ <a href="#PAGE_66791">a</a>\
\
+ <a href="#PAGE_46753">autocompleter</a>\
\
+ <a href="#PAGE_66798">bind</a>\
\
+ <a href="#PAGE_14274">datetimepicker</a>\
\
+ <a href="#PAGE_66929">div</a>\
\
+ <a href="#PAGE_66757">head</a>\
\
+ <a href="#PAGE_66801">submit</a>\
\
+ <a href="#PAGE_14222">tabbedPanel</a>\
\
+ <a href="#PAGE_66931">textarea</a>\
\
+ <a href="#PAGE_14168">tree</a>\
\
+ <a href="#PAGE_14288">treenode</a>\
|
|———|———————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————————|—————–|———————————————————————————————————————————————————|———|———————————————————————————————————————————————————————————————————————————————————————————————————————|</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>(light-on) For detailed descriptions of each tag, including usage examples, see the <a href="#PAGE_19705">Tag Reference</a>.</p>

<p><strong>Next:</strong></p>

<p>#####actionerror##### {#PAGE_14130}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.ActionError</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/actionerror.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.ActionError</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####actionmessage##### {#PAGE_14023}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.ActionMessage</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/actionmessage.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.ActionMessage</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####ajax common header##### {#PAGE_66934}</p>

<p>To use this tag:</p>

<ul>
  <li>
    <p>Add: <em>&lt;%@ taglib prefix=”sx” uri=”/struts-dojo-tags” %&gt;</em>  to your page.</p>
  </li>
  <li>
    <p>The <a href="#PAGE_66757">head</a> tag must be included on the page, which can be configured for performance or debugging purposes.</p>
  </li>
  <li>
    <p>If the parseContent parameter for the <a href="#PAGE_66757">head</a> tag is false (it is false by default), then the <strong>id</strong> tag is required.</p>
  </li>
</ul>

<p>For more examples see <a href="#PAGE_56182">Ajax and JavaScript Recipes</a></p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>#####autocompleter##### {#PAGE_46753}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/autocompleter.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<p>Get list from an action:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Uses a list:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Autocompleter that reloads its content everytime the text changes (and the length of the text is greater than 3):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Linking two autocompleters:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Set/Get selected values using JavaScript:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example5|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using beforeNotifyTopics:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example6|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using errorNotifyTopics:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example7|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using errorNotifyTopics:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example8|lang=html|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using valueNotifyTopics:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example9|lang=html|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Autocompleter.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Caveats</strong></p>

<ul>
  <li>The service that is producing the HTTP Response with JSON response to the Autocompleter tag must set the HTTP Header Response Content-Type to</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>text/json
</code></pre>
</div>
<p>. JSON has its own MIME type, which this tag expects.</p>

<ul>
  <li>Since 2.0.9, there is a change in the value:key order. Now, the value <strong>must</strong> come before the key.</li>
</ul>

<p>#####bind##### {#PAGE_66798}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Bind.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>There’s a bug in  IE6/IE7 which makes impossible to use the target’s attribute with a parent Div, because such Div’s content’s are overwritten with the tag’s <em>loadingText</em> . Resulting in an “undefined” message in the content’s, instead of the result of the request.</p>

<p>One possible alternative is to set <em>showLoadingText=”false”</em>  and set the indicator attribute to an element showing the desired loading text or image (outside the div).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;img id="loadingImage" src="images/loadingAnimation.gif" style="display:none"/&gt;
&lt;s:div id="parentDiv"&gt;
    &lt;s:form action="actionName"&gt;
        &lt;s:submit id="btn" /&gt;
        &lt;sx:bind sources="btn" events="onclick" targets="parentDiv" showLoadingText="false" indicator="loadingImage"/&gt;
    &lt;/s:form&gt;
&lt;/s:div&gt;

</code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/bind.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<p>Without attaching to an event, listening to a topic (used to make an Ajax call):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example0|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Bind.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Attached to event ‘onclick’ on submit button:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Bind.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Submit form:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Bind.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using beforeNotifyTopics:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Bind.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using afterNotifyTopics and highlight:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example5|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Bind.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using errorNotifyTopics and indicator:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example6|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Bind.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####checkbox##### {#PAGE_14029}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Checkbox</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/checkbox.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Checkbox</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####checkboxlist##### {#PAGE_13969}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=javadoc</td>
      <td>javadoc=true</td>
      <td>url=org.apache.struts2.components.ListUIBean}</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.CheckboxList</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/checkboxlist.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.CheckboxList</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####combobox##### {#PAGE_14259}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.ComboBox</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/combobox.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.ComboBox</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####component##### {#PAGE_14033}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.GenericUIBean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=note</td>
      <td>javadoc=true</td>
      <td>url=org.apache.struts2.components.GenericUIBean}</td>
    </tr>
  </tbody>
</table>

<p><strong>(!) templateDir and theme attribute</strong></p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>The final path to the template will be built using the <em>templateDir</em>  and <em>template</em>  attributes, like ${templateDir}/${theme}/${template}. If for example your component is under /components/html/option.jsp, you would have to set templateDir=”components”, theme=”html” and template=”options.jsp”.</p>
</blockquote>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>For any Struts tag that you use in your component, make sure that you set its templateDir=”template”</p>
</blockquote>

<blockquote>

</blockquote>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/component.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.GenericUIBean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####datetextfield##### {#PAGE_40506485}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.DateTextField</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/datetextfield.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.DateTextField</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####datetimepicker##### {#PAGE_14274}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/DateTimePicker.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/datetimepicker.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/DateTimePicker.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Getting and getting the datetimepicker value, from JavaScript:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/DateTimePicker.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Publish topic when value changes</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/DateTimePicker.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####div##### {#PAGE_13908}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Div</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>While this tag can be used with the <a href="#PAGE_14291">simple theme</a>, <a href="#PAGE_13834">xhtml theme</a>, and others, it is really designed to work best with the <a href="#PAGE_14205">ajax theme</a>. We recommend reading the <em>ajax div template</em>  documentation for more details.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/div.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####dojo div##### {#PAGE_66929}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Div.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/div.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<p>Simple div that loads its content once:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Div.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>div that reloads its content every 2 seconds, and shows an indicator while reloading:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Div.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>div that uses topics to control the timer, highlights its content in red after reload, and submits a form:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Div.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####dojo head##### {#PAGE_66757}</p>

<p><strong>Description</strong></p>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=notice</td>
      <td>javadoc=true</td>
      <td>url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Head.java}</td>
    </tr>
  </tbody>
</table>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Head.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>If you are planning to nest tags from the Dojo plugin, make sure you set parseContent=”false”, otherwise each request made by the inner tags will be performed twice.</p>
</blockquote>

<blockquote>

</blockquote>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/head.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Head.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Head.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####dojo textarea##### {#PAGE_66931}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/TextArea.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/textarea.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####doubleselect##### {#PAGE_14005}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=javadoc</td>
      <td>javadoc=true</td>
      <td>url=org.apache.struts2.components.DoubleListUIBean}</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.DoubleSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/doubleselect.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.DoubleSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####fielderror##### {#PAGE_14151}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.FieldError</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/fielderror.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.FieldError</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=description|javadoc=true|url=org.apache.struts2.components.FieldError</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####file##### {#PAGE_14283}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.File</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/file.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.File</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####form##### {#PAGE_14201}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Form</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/form.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Form</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Validation</strong></p>

<p>There are two flavours <em>Client Side Validation</em> , depending on the theme you are using (xhtml, ajax, etc). If you are using the <a href="#PAGE_13834">xhtml theme</a> or <a href="#PAGE_14215">css_xhtml theme</a>, pure client side validation will be used. If you are using the <a href="#PAGE_14205">ajax theme</a>, a special AJAX-based validation will take place. Read the <em>Client Side Validation</em>  docs for more information.</p>

<p>#####head##### {#PAGE_13997}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Head</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/head.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=org.apache.struts2.components.Head</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####hidden##### {#PAGE_14313}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Hidden</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/hidden.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Hidden</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####inputtransferselect##### {#PAGE_17268774}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.InputTransferSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=notice</td>
      <td>javadoc=true</td>
      <td>url=org.apache.struts2.components.InputTransferSelect}</td>
    </tr>
  </tbody>
</table>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/inputtransferselect.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Example</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.InputTransferSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####label##### {#PAGE_14167}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Label</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/label.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Label</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exdescription|lang=none|javadoc=true|url=org.apache.struts2.components.Label</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####optgroup##### {#PAGE_14170}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.OptGroup</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=notice</td>
      <td>javadoc=true</td>
      <td>url=org.apache.struts2.components.OptGroup}</td>
    </tr>
  </tbody>
</table>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/optgroup.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.OptGroup</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####optiontransferselect##### {#PAGE_13943}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=javadoc</td>
      <td>javadoc=true</td>
      <td>url=org.apache.struts2.components.DoubleListUIBean}</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.OptionTransferSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=notice|javadoc=true|url=org.apache.struts2.components.OptionTransferSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/optiontransferselect.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.OptionTransferSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####password##### {#PAGE_13826}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Password</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/password.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exdescription|javadoc=true|lang=none|url=org.apache.struts2.components.Password</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|javadoc=true|lang=xml|url=org.apache.struts2.components.Password</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####radio##### {#PAGE_14226}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=javadoc</td>
      <td>javadoc=true</td>
      <td>url=org.apache.struts2.components.ListUIBean}</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Radio</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/radio.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exdescription|javadoc=true|url=org.apache.struts2.components.Radio</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|javadoc=true|lang=xml|url=org.apache.struts2.components.Radio</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example_fmt|javadoc=true|lang=xml|url=org.apache.struts2.components.Radio</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####reset##### {#PAGE_13833}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Reset</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/reset.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<p><strong>Example 1</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.Reset</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Example 2</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=org.apache.struts2.components.Reset</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####select##### {#PAGE_14127}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Select</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/select.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exnote|javadoc=true|lang=none|url=org.apache.struts2.components.Select</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|javadoc=true|lang=xml|url=org.apache.struts2.components.Select</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####submit##### {#PAGE_14054}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Submit</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>To use method attribute (to use multiple submit buttons which direct to different action methods) you must set <strong>struts.enable.DynamicMethodInvocation</strong> to <strong>true</strong> but this can lead to <a href="http://www\.brucephillips\.name/blog/index\.cfm/2011/2/19/Struts\-2\-Security\-Vulnerability\-\-Dynamic\-Method\-Invocation">security vulnerability</a>^[http://www.brucephillips.name/blog/index.cfm/2011/2/19/Struts-2-Security-Vulnerability--Dynamic-Method-Invocation] - use with care! Instead you can try to use <em>Multiple Submit Buttons</em>  solution.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>This tag works with all themes, but has special importance when combined with the <a href="#PAGE_14201">form</a> tag in the <a href="#PAGE_14205">ajax theme</a>. Please read up on the <a href="#PAGE_14205">ajax theme</a> for more information.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/submit.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####tabbedPanel##### {#PAGE_14222}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/TabbedPanel.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/a.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<p>The following is an example of a tabbedpanel and panel tag utilizing local and remote content:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/TabbedPanel.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Use notify topics to prevent a tab from being selected:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/TabbedPanel.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####textarea##### {#PAGE_13926}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.TextArea</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/textarea.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Example</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.TextArea</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####textfield##### {#PAGE_13912}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.TextField</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/textfield.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=exdescription|lang=none|javadoc=true|url=org.apache.struts2.components.TextField</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.TextField</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####token##### {#PAGE_13998}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.Token</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/token.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|javadoc=true|lang=xml|url=org.apache.struts2.components.Token</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####tree##### {#PAGE_14168}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Tree.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/tree.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<p>Static tree:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Tree.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Dynamic tree (rendered on the server):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Tree.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Dynamic tree loaded with AJAX (one request is made for each node):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Tree.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####treenode##### {#PAGE_14288}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/TreeNode.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/treenode.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<p>Update target content with html returned from an action:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/TreeNode.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####updownselect##### {#PAGE_13884}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
      <td>{snippet:id=javadoc</td>
      <td>javadoc=true</td>
      <td>url=org.apache.struts2.components.ListUIBean}</td>
    </tr>
  </tbody>
</table>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=org.apache.struts2.components.UpDownSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/updownselect.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example|lang=xml|javadoc=true|url=org.apache.struts2.components.UpDownSelect</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>####dojo anchor#### {#PAGE_66791}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Anchor.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>There’s a bug in  IE6/IE7 which makes impossible to use the target’s attribute with a parent Div, because such Div’s content’s are overwritten with the tag’s <em>loadingText</em> . Resulting in an “undefined” message in the content’s, instead of the result of the request.</p>

<p>One possible alternative is to set <em>showLoadingText=”false”</em>  and set the indicator attribute to an element showing the desired loading text or image (outside the div).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;img id="loadingImage" src="images/loadingAnimation.gif" style="display:none"/&gt;
&lt;s:div id="parentDiv"&gt;
    &lt;s:form action="actionName"&gt;
        &lt;sx:a targets="parentDiv" showLoadingText="false" indicator="loadingImage"/&gt;
    &lt;/s:form&gt;
&lt;/s:div&gt;

</code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/a.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<p>Update target content with html returned from an action:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Anchor.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Submit form(anchor inside the form):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Anchor.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Submit form(anchor outside the form):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Anchor.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using beforeNotifyTopics:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Anchor.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using afterNotifyTopics and highlights target:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example5|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Anchor.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using errorNotifyTopics and indicator:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example6|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Anchor.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>####dojo submit#### {#PAGE_66801}</p>

<p><strong>Description</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javadoc|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>There’s a bug in  IE6/IE7 which makes impossible to use the target’s attribute with a parent Div, because such Div’s content’s are overwritten with the tag’s <em>loadingText</em> . Resulting in an “undefined” message in the content’s, instead of the result of the request.</p>

<p>One possible alternative is to set <em>showLoadingText=”false”</em> (the default) and set the indicator attribute to an element showing the desired loading text or image (outside the div).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;img id="loadingImage" src="images/loadingAnimation.gif" style="display:none"/&gt;
&lt;s:div id="parentDiv"&gt;
    &lt;s:form action="actionName"&gt;
        &lt;sx:submit  targets="parentDiv" showLoadingText="false" indicator="loadingImage"/&gt;
    &lt;/s:form&gt;
&lt;/s:div&gt;

</code></pre>
</div>

<p><strong>Parameters</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tagattributes|javadoc=false|url=struts2-tags/ajax/submit.html</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Examples</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example1|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Render an image submit:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example2|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Render a button submit:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example3|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Update target content with html returned from an action:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example4|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Submit form(inside the form):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example5|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Submit form(outside the form):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example6|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using beforeNotifyTopics:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example7|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using afterNotifyTopics and highlight target:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example8|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Using errorNotifyTopics and indicator:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=example9|lang=xml|javadoc=true|url=struts2/plugins/dojo/src/main/java/org/apache/struts2/dojo/components/Submit.java</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>###UI Tags### {#PAGE_19736}</p>

<p>Unlike <em>generic tags</em> , UI tags do not provide much control structure or logic. Rather, they are focussed on using data, either from your action/value stack or from the Data Tags, and displaying data in rich and reusable HTML. All UI tags are driven by <em>templates</em>  and <em>themes</em> . While generic tags simply output some content directly from the tag (if there is any content to output), the UI tags defer to a template, often grouped together as a theme, to do the actual rendering.</p>

<p>Template support allows UI tags to build a rich set of reusable HTML components that can be customized to fit exact requirements. For details, see <a href="#PAGE_14247">Themes and Templates</a>.</p>

<table>
  <thead>
    <tr>
      <th><a href="#PAGE_14247">Themes and Templates</a></th>
      <th>A must-read explanation of how themes and templates are used when rendering UI tags.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#PAGE_14230">Form Tags</a></td>
      <td>provide all form-related UI output, such as <em>form</em> , <em>textfield</em> , and <em>select</em> .</td>
    </tr>
    <tr>
      <td>Non Form Tags</td>
      <td>provide all non-form-related UI output, such as <em>a</em> , <em>div</em> , and <em>tabbedPanel</em> .</td>
    </tr>
  </tbody>
</table>

<p>#####Language Specific Tag Support#####</p>

<p>The framework strives to support multiple development environments. The framework does not impose a single template language. Almost any common language can be used, and there are hooks for new languages. By default, almost every single tag is supported in JSP, Velocity, and FreeMarker. In each of these sections, you’ll find examples and techniques for applying the generic tag reference toward your specific language or template choice.</p>

<ul>
  <li>
    <p><a href="#PAGE_13973">JSP Tags</a></p>
  </li>
  <li>
    <p><a href="#PAGE_13950">Velocity Tags</a></p>
  </li>
  <li>
    <p><a href="#PAGE_14294">FreeMarker Tags</a></p>
  </li>
</ul>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>Within the form tags, there are two classes of tags: the form tag itself, and all other tags, which make up the individual form elements. The behavior of the form tag is different than the elements enclosed within it.</p>

<p>#####Next:#####</p>

<p>####Form Tags#### {#PAGE_14230}</p>

<p>Please make sure you have read the <a href="#PAGE_13927">Tag Syntax</a> document and understand how tag attribute syntax works.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>Within the form tags, there are two classes of tags: the form tag itself, and all other tags, which make up the individual form elements. The behavior of the form tag is different than the elements enclosed within it.</p>

<p><strong>Form Tag Themes</strong></p>

<p>As explained in <a href="#PAGE_14247">Themes and Templates</a>, the HTML Tags (which includes Form Tags) are all driven by templates. Templates are grouped together to create themes. The framework bundles three themes in the distribution.</p>

<table>
  <thead>
    <tr>
      <th>simple</th>
      <th>Sometimes <em>too</em>  simple</th>
      <th> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>xhtml</td>
      <td>Extends simple</td>
      <td>(default)</td>
    </tr>
    <tr>
      <td>ajax</td>
      <td>Extends xhtml</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>The predefined themes can be used “as is” or customized.</p>

<table>
  <tbody>
    <tr>
      <td>The xhtml theme renders out a two-column table. If a different layout is needed, do <em>not</em>  write your own HTML. Create a new theme or utilize the simple theme.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Simple theme caveats</strong></p>

<p>The downside of using the simple theme is that it doesn’t support as many of the attributes that the other themes do. For example, the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>label
</code></pre>
</div>
<p>attribute does nothing in the simple theme, and the automatic display of error messages is not supported.</p>

<p><strong>Common Attributes</strong></p>

<p>All the form tags extend the UIBean class. This base class provides a set of common attributes, that can be grouped in to three categories:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>templated-related
</code></pre>
</div>
<p>, javascript-related, and general attributes. The individual attributes are documented on each tag’s reference page.</p>

<p>In addition to the common attributes, a special attribute exists for all form element tags:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>form
</code></pre>
</div>
<p>(${parameters.form}). The</p>

<div class="highlighter-rouge"><pre class="highlight"><code>form
</code></pre>
</div>
<p>property represents the attributes used to render the form tag, such as the form’s id. In a template, the form’s ID can be found by calling ${parameters.form.id}.</p>

<p><strong>Template-Related Attributes</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=templateRelatedAttributes|javadoc=true|url=org.apache.struts2.components.UIBean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Javascript-Related Attributes</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=javascriptRelatedAttributes|javadoc=true|url=org.apache.struts2.components.UIBean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Tooltip Related Attributes</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tooltipattributes|javadoc=true|url=org.apache.struts2.components.UIBean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>General Attributes</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=generalAttributes|javadoc=true|url=org.apache.struts2.components.UIBean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>Some tag attributes may not be utilized by all, or any, of the templates. For example, the form tag supports the tabindex attribute, but none of the themes render the tabindex.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Value/Name Relationship</strong></p>

<p>In many of the tags (except for the form tag) there is a unique relationship between the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>attributes. The</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>attribute provides the name for the tag, which in turn is used as the control attribute when the form is submitted. The value submitted is bound to the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>. In most cases, the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>maps to a simple JavaBean property, such as “postalCode”. On a submit, the value would be set to the property by calling the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>setPostalCode
</code></pre>
</div>
<p>mutator.</p>

<p>Likewise, a form control could be populated by calling a JavaBean accessor, like</p>

<div class="highlighter-rouge"><pre class="highlight"><code>getPostalCode
</code></pre>
</div>
<p>. In the expression language, we can refer to the JavaBean property by name. An expression like “%{postalCode}” would in turn call</p>

<div class="highlighter-rouge"><pre class="highlight"><code>getPostalCode
</code></pre>
</div>
<p>.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.form action="updateAddress"&gt;
    &lt;@s.textfield label="Postal Code" name="postalCode" value="%{postalCode}"/&gt;
    ...
&lt;/@s.form&gt;

</code></pre>
</div>

<p>However, since the tags imply a relationship between the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>, the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>attribute is optional. If a</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>is not specified, by default, the JavaBean accessor is used instead.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;@s.form action="updateAddress"&gt;
    &lt;@s.textfield label="Postal Code" name="postalCode"/&gt;
    ...
&lt;/@s.form&gt;

</code></pre>
</div>

<p>While most attributes are exposed to the underlying templates as the same key as the attribute (${parameters.label}), the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>attribute is not. Instead, it can be accessed via the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>nameValue
</code></pre>
</div>
<p>key (${parameters.nameValue}). The</p>

<div class="highlighter-rouge"><pre class="highlight"><code>nameValue
</code></pre>
</div>
<p>key indicates that the value may have been generated from the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>attribute rather than explicitly defined in the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>attribute.</p>

<p><strong>ID Name Assignment</strong></p>

<p>All form tags automatically assign an ID to the control, but the ID can be overridden if needed.</p>

<table>
  <thead>
    <tr>
      <th>Forms</th>
      <th>The default ID is the action name. For example, “updateAddress”.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Controls</td>
      <td>The default ID is the form’s name concatenated with the tag name. For example, “updateAddress_postalCode”.</td>
    </tr>
  </tbody>
</table>

<p><strong>Form labelposition propagation</strong></p>

<p>When </p>

<div class="highlighter-rouge"><pre class="highlight"><code>labelposition
</code></pre>
</div>
<p>attribute was defined for </p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:form&gt;
</code></pre>
</div>
<p>tag it will be propagated to all form elements, but if form element defines its own </p>

<div class="highlighter-rouge"><pre class="highlight"><code>labelposition
</code></pre>
</div>
<p>it will take precedence over </p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;s:form&gt;
</code></pre>
</div>
<p>’s attribute. Since 2.3.17.</p>

<p><strong>Required Attribute</strong></p>

<p>The</p>

<div class="highlighter-rouge"><pre class="highlight"><code>required
</code></pre>
</div>
<p>attribute on many UI tags defaults to true only if you have client-side validation enabled, and a validator is associated with that particular field.</p>

<p><strong>Tooltip</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tooltipdescription|javadoc=true|url=org.apache.struts2.components.UIBean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=tooltipexample|lang=xml|javadoc=true|url=org.apache.struts2.components.UIBean</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Next:</strong></p>

<p>####Themes and Templates#### {#PAGE_14247}</p>

<p>The notions of “themes” and “templates” are at the core of the HTML <a href="#PAGE_14248">Struts Tags</a> provided by the framework.</p>

<p><strong>Definitions</strong></p>

<table>
  <thead>
    <tr>
      <th>tag</th>
      <th>A small piece of code executed from within <a href="#PAGE_14141">JSP</a>, <a href="#PAGE_14078">FreeMarker</a>, or <a href="#PAGE_13894">Velocity</a>.</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>template</td>
      <td>A bit of code, usually written in <a href="#PAGE_14078">FreeMarker</a>, that can be rendered by certain tags (HTML tags)</td>
    </tr>
    <tr>
      <td>theme</td>
      <td>A  collection of <em>templates</em>  packaged together to provide common functionality</td>
    </tr>
  </tbody>
</table>

<p>(light-on) See <a href="#PAGE_14248">Struts Tags</a> for more about the HTML and other tags provided by the framework.</p>

<p><strong>Template Basics</strong></p>

<table>
  <thead>
    <tr>
      <th><a href="#PAGE_13817">Template Loading</a></th>
      <th>How templates are loaded</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#PAGE_14227">Selecting Template Directory</a></td>
      <td>How the template directories are loaded</td>
    </tr>
    <tr>
      <td><a href="#PAGE_14016">Selecting Themes</a></td>
      <td>How you can pick a theme when writing your results</td>
    </tr>
    <tr>
      <td><a href="#PAGE_13962">Extending Themes</a></td>
      <td>How to create your own themes based on existing themes</td>
    </tr>
  </tbody>
</table>

<p><strong>More About Themes</strong></p>

<table>
  <thead>
    <tr>
      <th><a href="#PAGE_14291">simple theme</a></th>
      <th>A minimal theme with no “bells and whistles”</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#PAGE_13834">xhtml theme</a></td>
      <td>The default theme that uses common HTML practices</td>
    </tr>
    <tr>
      <td><a href="#PAGE_14215">css_xhtml theme</a></td>
      <td>The <a href="#PAGE_13834">xhtml theme</a> re-implemented using strictly CSS for layout</td>
    </tr>
    <tr>
      <td><a href="#PAGE_14205">ajax theme</a></td>
      <td>A theme based on the <a href="#PAGE_13834">xhtml theme</a> that provides advanced AJAX features</td>
    </tr>
  </tbody>
</table>

<p><strong>Next:</strong></p>

<p>#####Extending Themes##### {#PAGE_13962}</p>

<p>Most often, an application may just need to override a template (see <a href="#PAGE_13817">Template Loading</a>) so that a certain control renders differently. Or, an application may need to add a new template to an existing theme. Other times, you might want to create an entirely new theme, perhaps because you are building a rich set of unique and reusable templates for your organization.</p>

<p>There are three ways to create new themes:</p>

<ul>
  <li>
    <p>Create a new theme from scratch (<strong>hard!</strong>)</p>
  </li>
  <li>
    <p>Wrap an existing theme</p>
  </li>
  <li>
    <p>Extend an existing theme</p>
  </li>
</ul>

<p><strong>Creating a New Theme from Scratch</strong></p>

<p>It’s probably never a good idea to create a new theme from scratch. Instead, use the <a href="#PAGE_14291">simple theme</a> as a starting point. The simple theme provides just enough foundation to make it easy to create new controls by extending or wrapping the basic controls. Before starting a new theme, be sure to review the source templates for all of the provided themes. The existing themes are your best guide to creating new themes.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Wrapping an Existing Theme</strong></p>

<p>The <a href="#PAGE_13834">xhtml theme</a> provides several good examples of the “wrapping” technique. The <a href="#PAGE_14291">simple theme</a> renders the basic control. The xhtml theme “dresses up” many of the controls by adding a header and footer.</p>

<p><strong>Wrapping a control</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;#include "/${parameters.templateDir}/${parameters.expandTheme}/controlheader.ftl" /&gt;
&lt;#include "/${parameters.templateDir}/simple/xxx.ftl" /&gt;
&lt;#include "/${parameters.templateDir}/${parameters.expandTheme}/controlfooter.ftl" /&gt;

</code></pre>
</div>

<p>Wrapping is a great way to augment the basic HTML elements provided by the simple theme.</p>

<p><strong>Extending an Existing Theme</strong></p>

<p>One benefit of object-orientated programming is that it lets us “design by difference.” We can extend an object and code only the behaviour that changes. Themes provide a similar capability. The subdirectory that hosts a theme can contain a</p>

<div class="highlighter-rouge"><pre class="highlight"><code>theme.properties
</code></pre>
</div>
<p>file. A</p>

<div class="highlighter-rouge"><pre class="highlight"><code>parent
</code></pre>
</div>
<p>entry can be added to the property file to designate a theme to extend. The <a href="#PAGE_14205">ajax theme</a> extends the <a href="#PAGE_13834">xhtml theme</a> using this technique.</p>

<p><strong>/template/ajax/theme.properties</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>parent = xhtml

</code></pre>
</div>

<p>An extended theme does not need to implement every single template that the <a href="#PAGE_14248">Struts Tags</a> expect. It only needs to implement the templates that change. The other templates are loaded from the parent template.</p>

<p><strong>Special parameters</strong></p>

<p><a href="http://struts\.apache\.org/development/2\.x/struts2\-core/apidocs/org/apache/struts2/components/UIBean\.html">UIBean</a>^[http://struts.apache.org/development/2.x/struts2-core/apidocs/org/apache/struts2/components/UIBean.html] provides few special parameters which can be used to build a new template (they are already used in</p>

<div class="highlighter-rouge"><pre class="highlight"><code>xhtml
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>css_xhtml
</code></pre>
</div>
<p>theme):</p>

<ul>
  <li></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>templateDir
</code></pre>
</div>
<p>- current value of templateDir parameter, see <a href="#PAGE_14227">Selecting Template Directory</a></p>

<ul>
  <li></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>theme
</code></pre>
</div>
<p>- used theme, see <a href="#PAGE_14016">Selecting Themes</a></p>

<ul>
  <li></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>template
</code></pre>
</div>
<p>- name of the template file to use (i.e. text)</p>

<ul>
  <li></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>themeExpansionToken
</code></pre>
</div>
<p>- special token used to indicate to search for a template also in parent theme (when used with</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;#include /&gt;
</code></pre>
</div>
<p>directive)</p>

<ul>
  <li></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>expandTheme
</code></pre>
</div>
<p>- tells internal template loader mechanism to try load template from current theme and then from parent theme (and parent theme, and so on)</p>

<p>Using</p>

<div class="highlighter-rouge"><pre class="highlight"><code>expandTheme
</code></pre>
</div>
<p>parameter allows to override only some parts of the theme’s templates, e.g. css.ftl. You can define a new theme (set theme.properties) and override just single file.</p>

<p>${parameters.expandTheme} is a recurrence which tells ThemeManager to load template from current theme and then from parent theme (defined in theme.properties) and so on.</p>

<p>Please also notice that the ThemeManager builds list of possible templates based on current theme and inherited themes (/template/custom/textarea.ftl, /template/xhtml/textarea.ftl, /template/simple/textarea.ftl). This is also true for templates which are loaded via ${parameters.expandTheme}.</p>

<p>(ok)  See also example <em>Struts 2 Themes</em>  or <a href="http://www\.vitarara\.org/cms/struts\_2\_cookbook/creating\_a\_theme">Creating a Theme in Struts 2</a>^[http://www.vitarara.org/cms/struts_2_cookbook/creating_a_theme] (Mark Menard)</p>

<p>#####Selecting Template Directory##### {#PAGE_14227}</p>

<p>Template directory can be selected using several different rules, in this order:</p>

<ol>
  <li>The</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>templateDir
</code></pre>
</div>
<p>attribute on the specific tag</p>

<ol>
  <li>The page-scoped attribute named</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>templateDir
</code></pre>
</div>

<ol>
  <li>The request-scoped attribute named</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>templateDir
</code></pre>
</div>

<ol>
  <li>The session-scoped attribute named</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>templateDir
</code></pre>
</div>

<ol>
  <li>The application-scoped attribute named</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>templateDir
</code></pre>
</div>

<ol>
  <li>The</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>struts.ui.templateDir
</code></pre>
</div>
<p>property in <em>struts.properties</em>  (defaults to <em>template</em> )</p>

<p><strong>Tips</strong></p>

<ul>
  <li>To change the template directory for the entire application, modify the <em>struts.properties</em> .</li>
</ul>

<p>#####Selecting Themes##### {#PAGE_14016}</p>

<p>Themes can be selected using several different rules, in this order:</p>

<ol>
  <li>The</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>theme
</code></pre>
</div>
<p>attribute on the specific tag</p>

<ol>
  <li>The</li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>theme
</code></pre>
</div>
<p>attribute on a tag’s surrounding <a href="#PAGE_14201">form</a> tag</p>

<ol>
  <li>
    <p>The page-scoped attribute named “theme”</p>
  </li>
  <li>
    <p>The request-scoped attribute named “theme”</p>
  </li>
  <li>
    <p>The session-scoped attribute named “theme”</p>
  </li>
  <li>
    <p>The application-scoped attribute named “theme”</p>
  </li>
  <li>
    <p>The</p>
  </li>
</ol>

<div class="highlighter-rouge"><pre class="highlight"><code>struts.ui.theme
</code></pre>
</div>
<p>property in <em>struts.properties</em>  (defaults to <em>xhtml</em> )</p>

<p>See “<em>Can I change theme on a per-page basis</em> “ page for using scoped “theme” attribute.</p>

<p><strong>Tips</strong></p>

<ul>
  <li>
    <p>To override an entire form’s theme, change the “theme” attribute of the form. (Convenient for using the <a href="#PAGE_14205">ajax theme</a> for specific forms, for example.)</p>
  </li>
  <li>
    <p>To support user-selected themes, set the theme in the user’s session.</p>
  </li>
  <li>
    <p>To change the theme for the entire application, modify the <em>struts.properties</em> .</p>
  </li>
</ul>

<p>#####Template Loading##### {#PAGE_13817}</p>

<p>Templates are loaded first by searching the application and then by searching the classpath. If a template needs to be overridden, an edited copy can be placed in the application, so that is found first.</p>

<p><strong>(i) One for all</strong></p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>FreeMarker is the default templating engine. The FreeMarker templates are used regardless of what format the view may use. Internally, the JSP, FTL, Velocity tags are all rendered using FreeMarker.</p>
</blockquote>

<blockquote>

</blockquote>

<p><strong>Template and Themes</strong></p>

<p>Templates are loaded based the template directory and theme name (see <a href="#PAGE_14016">Selecting Themes</a>). The template directory is defined by the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>struts.ui.templateDir
</code></pre>
</div>
<p>property in <em>struts.properties</em>  (defaults to</p>

<div class="highlighter-rouge"><pre class="highlight"><code>template
</code></pre>
</div>
<p>). If a tag is using the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>xhtml
</code></pre>
</div>
<p>theme, the following two locations will be searched (in this order):</p>

<table>
  <thead>
    <tr>
      <th>In the application</th>
      <th>/template/xhtml/template.ftl</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>In the classpath</td>
      <td>/template/xhtml/template.ftl</td>
    </tr>
  </tbody>
</table>

<p>(!)  For performance reasons, you may want to prefer the first location, although the second one is more flexible. See <em>Performance Tuning</em>  for a discussion on this topic.</p>

<p><strong>Overriding Templates</strong></p>

<p>The default templates provided in the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>struts-core.jar
</code></pre>
</div>
<p>should suit the needs of many applications. However, if a template needs to be modified, it’s easy to plug in a new version. Extract the template you need to change from the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>struts-core.jar
</code></pre>
</div>
<p>, make the modifications, and save the updated copy to</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/template/$theme/$template.ftl
</code></pre>
</div>
<p>. If you are using the xhmtl theme and need to change how the select tags render, edit that template and save it to</p>

<div class="highlighter-rouge"><pre class="highlight"><code>/template/xhtml/select.ftl
</code></pre>
</div>
<p>.</p>

<p>(!)  It is easier and better to edit and override an existing template than provide a new one of your own.</p>

<p><strong>Altering Template Loading Behaviour</strong></p>

<p>It is possible to load template from other locations, like the file system or a URL. Loading templates from alternate locations can be useful not only for tags, but for custom results. For details, see the <a href="#PAGE_14078">FreeMarker</a> documentation and consult the section on extending the FreeMarkerManager.</p>

<p><strong>Alternative Template Engines</strong></p>

<p>The framework provides for template rendering engines other than FreeMarker. (Though, there is rarely a need to use another system!)</p>

<p><strong>(!) Don’t try this at home!</strong></p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>Alternative template engines are best left to advanced users with special needs!</p>
</blockquote>

<blockquote>

</blockquote>

<p>The framework supports three template engines, which can be controlled by the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>struts.ui.templateSuffix
</code></pre>
</div>
<p>in <em>struts.properties</em> .</p>

<table>
  <thead>
    <tr>
      <th>ftl (default)</th>
      <th><a href="#PAGE_14078">FreeMarker</a>-based template engine</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>vm</td>
      <td><a href="#PAGE_13894">Velocity</a>-based template engine</td>
    </tr>
    <tr>
      <td>jsp</td>
      <td><a href="#PAGE_14141">JSP</a>-based template engine</td>
    </tr>
  </tbody>
</table>

<p>The only set of templates and themes provided in the distribution is for FreeMarker. In order to use another template engine, you must provide your own template and theme for that engine.</p>

<table>
  <tbody>
    <tr>
      <td>Don’t feel that you need to rewrite the templates to match your view format. If you need to customize the template, try copying and modifying the FreeMarker template first. Most changes should be obvious.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>#####ajax theme##### {#PAGE_14205}</p>

<p>The ajax theme is deprecated!</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>The ajax theme extends the <a href="#PAGE_13834">xhtml theme</a> with AJAX features. The theme uses the popular DOJO AJAX/JavaScript toolkit. AJAX features include:</p>

<ul>
  <li>
    <p><em>AJAX Client Side Validation</em></p>
  </li>
  <li>
    <p>Remote <a href="#PAGE_14201">form</a> submission support (works with the <a href="#PAGE_14054">submit</a> tag as well)</p>
  </li>
  <li>
    <p>An advanced <a href="#PAGE_13908">div</a> template that provides dynamic reloading of partial HTML</p>
  </li>
  <li>
    <p>An advanced <a href="#PAGE_14027">a</a> template that provides the ability to load and evaluate JavaScript remotely</p>
  </li>
  <li>
    <p>An AJAX-only <a href="#PAGE_14222">tabbedPanel</a> implementation</p>
  </li>
  <li>
    <p>A rich pub-sub event model</p>
  </li>
  <li>
    <p>Interactive autocomplete tag</p>
  </li>
</ul>

<p>(ok)  See also: <em>Ajax tags</em></p>

<p><strong>Browser Compatibility</strong></p>

<p>AJAX (as a technology) uses a browser-side scripting component that varies between browers (and sometimes versions). To hide those differences from the developer, we utilize the dojo toolkit (<a href="http://www\.dojotoolkit\.org">http://www.dojotoolkit.org</a>). Several browsers are supported by dojo, and any UI’s created with the ajax theme should act the same way for supported browsers. The supported browsers are:</p>

<ul>
  <li>
    <p>IE 5.5+</p>
  </li>
  <li>
    <p>FF 1.0+</p>
  </li>
  <li>
    <p>Latest Safari (on up-to-date OS versions)</p>
  </li>
  <li>
    <p>Latest Opera</p>
  </li>
  <li>
    <p>Latest Konqueror</p>
  </li>
</ul>

<p><strong>Extending the AJAX Theme</strong></p>

<p>The wrapping technique utilized by the ajax theme is much like <a href="#PAGE_13834">xhtml theme</a>, but the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlheader.ftl
</code></pre>
</div>
<p>is a wee bit different.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;#if parameters.label?if_exists != ""&gt;
	&lt;#include "/${parameters.templateDir}/xhtml/controlheader.ftl" /&gt;
&lt;/#if&gt;
&lt;#if parameters.form?exists &amp;&amp; parameters.form.validate?default(false) == true&gt;
	&lt;#-- can't mutate the data model in freemarker --&gt;
    &lt;#if parameters.onblur?exists&gt;
        ${tag.addParameter('onblur', "validate(this);${parameters.onblur}")}
    &lt;#else&gt;
        ${tag.addParameter('onblur', "validate(this);")}
    &lt;/#if&gt;
&lt;/#if&gt;

</code></pre>
</div>

<p>The header provides for <em>AJAX Client Side Validation</em>  by checking if the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>validate
</code></pre>
</div>
<p>attribute is set to true. If it is, a validation request is made on each</p>

<div class="highlighter-rouge"><pre class="highlight"><code>onblur
</code></pre>
</div>
<p>event for a HTML <a href="#PAGE_14248">Struts Tags</a>. Some people don’t like the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>onblur
</code></pre>
</div>
<p>behavior; they would rather a more advanced timer (say, 200ms) be kicked off after every keystroke. You can override this template and provide that type of behavior if you would like.</p>

<p><strong>Special Interest</strong></p>

<p>Three ajax_xhtml templates of special interest are</p>

<div class="highlighter-rouge"><pre class="highlight"><code>head
</code></pre>
</div>
<p>,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>div
</code></pre>
</div>
<p>, and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>a
</code></pre>
</div>
<p>.</p>

<table>
  <tbody>
    <tr>
      <td>Especially with the ajax theme, it is important to use the <a href="#PAGE_13997">head</a> tag. (See the <em>ajax head template</em>  for more information.) Without it, AJAX support may not be set up properly.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<ul>
  <li>
    <p><em>ajax head template</em></p>
  </li>
  <li>
    <p><em>ajax div template</em></p>
  </li>
  <li>
    <p><em>ajax a template</em></p>
  </li>
</ul>

<p>(ok)  In addition to these templates, be familiar with the <em>ajax event system</em>  provided by the framework and Dojo.</p>

<p><strong>ajax a template</strong></p>

<p>The ajax theme is experimental. Feedback is appreciated.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>The ajax a template is used to make asynchronous calls to the server when the user clicks on the a href link.  It is useful when you need to communicate information back to the application from the UI, without requiring the entire page to be re-rendered.  An example would be removing an item from a list.</p>

<p>The <em>preInvokeJS</em>  attribute is used to determine whether the URL specified should be called or not, and must contain Javascript that returns <em>true</em>  or <em>false</em> .  If you want to call a JavaScript function, use the format preInvokeJS=’yourMethodName(data,type)’. An example would be to show a confirm dialog to the user to double check whether they want to remove a user from a list.</p>

<p><strong>Remember</strong>: the content returned by the <em>href</em>  attribute must be JavaScript. That JavaScript will then be evaluated within the webpage. If you only wish to publish an event to the topic specified, then simply return no result (or NONE) from your action and utilize the <em>notifyTopics</em>  attribute to specific the topic names.</p>

<p>For an example of the interaction between the <a href="#PAGE_13908">div</a> tag and the <a href="#PAGE_14027">a</a> tag using the topic pub/sub model, see the examples in the <em>ajax div template</em> .</p>

<p><strong>ajax div template</strong></p>

<p>The Ajax theme is experimental. Feedback is appreciated.</p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>The ajax <a href="#PAGE_13908">div</a> template provides a much more interesting div rendering option that the other themes do. Rather than simply rendering a</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;div&gt;
</code></pre>
</div>
<p>tag, this template relies on advanced AJAX features provided by the <a href="http://dojotoolkit\.org">Dojo Toolkit</a>^[http://dojotoolkit.org]. While the <a href="#PAGE_13908">div</a> tag could be used outside of the <a href="#PAGE_14205">ajax theme</a>, it is usually not very useful. See the <a href="#PAGE_13908">div</a> tag for more information on what features are provided.</p>

<p><strong>Features</strong></p>

<p>The remote div has a few features, some of which can be combined with the <a href="#PAGE_14027">a</a> tag and the <em>ajax a template</em> . These uses are:</p>

<ul>
  <li>
    <p>Retrieve remote data</p>
  </li>
  <li>
    <p>Initialize the div with content before the remote data is retrieved</p>
  </li>
  <li>
    <p>Display appropriate error and loading messages</p>
  </li>
  <li>
    <p>Refresh data on a timed cycle</p>
  </li>
  <li>
    <p>Listen for events and refresh data</p>
  </li>
  <li>
    <p>JavaScript control support</p>
  </li>
</ul>

<p><strong>Retrieve Remote Data</strong></p>

<p>The simplest way to use the div tag is to provide an <em>href</em>  attribute. For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;saf:div theme="ajax" id="weather" href="http://www.weather.com/weather?zip=97239"/&gt;

</code></pre>
</div>

<p>What this does after the HTML page is completely loaded, the specified URL will be retrieved asynchronously in the browser. The entire contents returned by that URL will be injected in to the div.</p>

<p><strong>Initializing the Div</strong></p>

<p>Because the remote data isn’t loaded immediately, it is sometimes useful to have some placeholder content that exists before the remote data is retrieved. The content is essentially just the body of the div element. For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;saf:div theme="ajax" id="weather" href="http://www.weather.com/weather?zip=97239"&gt;
    Placeholder...
&lt;/saf:div&gt;

</code></pre>
</div>

<p>If you wish to load more complex initial data, you can use the <a href="#PAGE_14034">action</a> tag and the <em>executeResult</em>  attribute:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;saf:div theme="ajax" id="weather" href="http://www.weather.com/weather?zip=97239"&gt;
    &lt;ww:action id="weather" name="weatherBean" executeResult="true"&gt;
        &lt;ww:param name="zip" value="97239"/&gt;
    &lt;/ww:action&gt;
&lt;/saf:div&gt;

</code></pre>
</div>

<p><strong>Loading and Error Messages</strong></p>

<p>If you’d like to display special messages when the data is being retrieved or when the data cannot be retrieved, you can use the <em>errorText</em>  and <em>loadingText</em>  attributes:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;saf:div theme="ajax" id="weather" href="http://www.weather.com/weather?zip=97239"
        loadingText="Loading weather information..."
        errorText="Unable to contact weather server"&gt;
    Placeholder...
&lt;/saf:div&gt;

</code></pre>
</div>

<p><strong>Refresh Timers</strong></p>

<p>Another feature this div template provides is the ability to refresh data on a timed basis. Using the <em>updateFreq</em>  and the <em>delay</em> attributes, you can specify how often the timer goes off and when the timer starts (times in milliseconds). For example, the following will update every minute after a two second delay:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;saf:div theme="ajax" id="weather" href="http://www.weather.com/weather?zip=97239"
        loadingText="Loading weather information..."
        errorText="Unable to contact weather server"&gt;
        delay="2000"
        updateFreq="60000"
    Placeholder...
&lt;/saf:div&gt;

</code></pre>
</div>

<p><strong>Listening for Events</strong></p>

<p>The <a href="#PAGE_14027">a</a> tag (specifically the <em>ajax a template</em> ) and the div tag support an <em>ajax event system</em> , providing the ability to broadcast events to topics. You can specify the <strong>topics</strong> to listen to using a comma separated list in the <em>listenTopics</em>  attribute. What this means is that when a topic is published, usually through the <em>ajax a template</em> , the URL specified in the <em>href</em>  attribute will be re-requested.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;saf:div theme="ajax" id="weather" href="http://www.weather.com/weather?zip=97239"
        loadingText="Loading weather information..."
        errorText="Unable to contact weather server"
        listenTopics="weather_topic,some_topic"&gt;
    Placeholder...
&lt;/saf:div&gt;
&lt;saf:a id="link1"
      theme="ajax"
      href="refreshWeather.action"
      notifyTopics="weather_topic,other_topic"
      errorText="An Error ocurred"&gt;Refresh&lt;/saf:a&gt;

</code></pre>
</div>

<p><strong>JavaScript Support</strong></p>

<p>There are also javascript functions to refresh the content and stop/start the refreshing of the component. For the remote div with the component id “remotediv1”:</p>

<p>To start refreshing use the javascript:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
remotediv1.startTimer();

</code></pre>
</div>

<p>To stop refreshing use the javascript:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
remotediv1.stopTimer();

</code></pre>
</div>

<p>To refresh the content use the javascript:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
remotediv1.refresh();

</code></pre>
</div>

<p><strong>JavaScript Examples:</strong></p>

<p>To further illustrate these concepts here is an example. Say you want to change the url of a div at runtime via javascript. Here is what you need to do:</p>

<p>What you will need to do is add a JS function that listens to a JS event that publishes the id from the select box that was selected.  It will modify the URL for the div (adding the id so the correct data is obtained) and then bind() the AJAX div so it refreshes.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;saf:head theme="ajax" /&gt;

&lt;script type="text/javascript"&gt;
    function updateReports(id) {
       var reportDiv= window['reportDivId'];
       reportDiv.href = '/../reportListRemote.action?selectedId='+id;
       reportDiv.refresh();
    }
    dojo.event.topic.getTopic("updateReportsListTopic").subscribe(null, "updateReports");
&lt;/script&gt;

&lt;form ... &gt;
&lt;saf:select .... onchange="javascript: dojo.event.topic.publish("updateReportsListTopic", this.value); " /&gt;

&lt;saf:div id="reportDivId" theme="ajax" href="/.../reportListRemote.action" &gt;
  Loading reports...
&lt;/saf:div&gt;
&lt;/form&gt;

</code></pre>
</div>

<p><strong>ajax event system</strong></p>

<p>As you may have seen with the <em>ajax div template</em>  and <em>ajax a template</em> , the framework and Dojo provide a nice way to subscribe and notify of topics from within the browser. A benifit of using Dojo as the basis of many of these components is being able to loosely couple UI components.  There are two attributes of importance:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>listenTopics
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>notifyTopics
</code></pre>
</div>
<p>.</p>

<ul>
  <li>If a component has a</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>notifyTopics
</code></pre>
</div>
<p>attribute, then after the processing has been completed a message with be published to the topic names supplied as a value (comma delimited).</p>

<ul>
  <li>If a component has a</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>listenTopics
</code></pre>
</div>
<p>attribute, then when a message is published to the topic names supplied as a value (comma delimited), the component will perform custom tag-specific logic ( i.e a DIV tag will re-fresh its content).</p>

<p>As well as this, you can publish and subscribe to topic names with javascript code.  To publish to the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>topic_name
</code></pre>
</div>
<p>topic:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
dojo.event.topic.publish("topic_name", "content");

</code></pre>
</div>

<p>The topic_name attribute is required, the content attribute is not and most elements are triggered without having this attribute. See the <em>ajax div template</em>  for an example of this type of interaction.</p>

<p>To subscribe to the <em>topic_name</em>  topic:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
function doSomethingWithEvent(data) {
...
}

dojo.event.topic.getTopic("topic_name").subscribe(null, "doSomethingWithEvent");

</code></pre>
</div>

<p>The</p>

<div class="highlighter-rouge"><pre class="highlight"><code>subscribe
</code></pre>
</div>
<p>method takes 2 parameters, the first is the JavaScript object variable (or null if the function is not from an object) and the second is the name of the function to call when an event is recieved on the topic.</p>

<p><strong>ajax head template</strong></p>

<p>The ajax <a href="#PAGE_13997">head</a> template builds upon the <em>xhtml head template</em>  by providing additional JavaScript includes for the <a href="http://dojotoolkit\.org">Dojo Toolkit</a>^[http://dojotoolkit.org], which is used by the <em>ajax a template</em> , <em>ajax div template</em>  , and the <em>ajax tabbedPanel template</em> . It is required to use this tag,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;ww:head theme="ajax"/&gt;
</code></pre>
</div>
<p>, in your HTML</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;head&gt;
</code></pre>
</div>
<p>block if you wish to use AJAX feature. The contents of <strong>head.ftl</strong> are:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/plugins/dojo/src/main/resources/template/ajax/head.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<table>
  <tbody>
    <tr>
      <td>If you are having trouble getting the AJAX theme to work, you should include the above JavaScript in your page manually, changing “isDebug: false” to “isDebug: true”.  This will log out debugging information directly to the screen.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>Note that Dojo is configured to use the same character encoding specified in <em>struts.properties</em> , typically UTF-8. For a simple example of how to use the <a href="#PAGE_13997">head</a> tag with the AJAX theme, simply do the following in your HTML:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=common-include|lang=xml|url=struts2/apps/showcase/src/main/webapp/ajax/commonInclude.jsp</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>The above sample is from Struts trunk; for 2.0.6 you should use &lt;s:head debug=”true”/&gt;.</p>
</blockquote>

<blockquote>

</blockquote>

<p><strong>ajax tabbedPanel template</strong></p>

<p>TODO: Describe the Ajax TabbedPanel template</p>

<p><strong>ajax submit template</strong></p>

<p>TODO: Describe the Ajax Submit template</p>

<p>#####css_xhtml theme##### {#PAGE_14215}</p>

<p>The css_xhtml theme provides all the basics that the <a href="#PAGE_14291">simple theme</a> provides and adds several features.</p>

<ul>
  <li>Standard two-column CSS-based layout, using</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;div&gt;
</code></pre>
</div>
<p>for the HTML <a href="#PAGE_14248">Struts Tags</a> (<a href="#PAGE_14201">form</a>, <a href="#PAGE_13912">textfield</a>, <a href="#PAGE_14127">select</a>, etc)</p>

<ul>
  <li>
    <p>Labels for each of the HTML <a href="#PAGE_14248">Struts Tags</a>, placed according to the CSS stylesheet</p>
  </li>
  <li>
    <p><em>Validation</em>  and error reporting</p>
  </li>
  <li>
    <p><em>Pure JavaScript Client Side Validation</em>  using 100% JavaScript on the browser</p>
  </li>
</ul>

<p><strong>Wrapping the Simple Theme</strong></p>

<p>The xhtml theme uses the “wrapping” technique described by <a href="#PAGE_13962">Extending Themes</a>. Let’s look at how the HTML tags are wrapped by a standard header and footer. For example, in the <a href="#PAGE_13912">textfield</a> template,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>text.ftl
</code></pre>
</div>
<p>, the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlheader.ftl
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlfooter.ftl
</code></pre>
</div>
<p>templates are wrapped around the simple template.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/simple/text.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>CSS XHTML theme header</strong></p>

<p>The header used by the HTML tags in the css_xhtml theme is complicated. Unlike the <a href="#PAGE_13834">xhtml theme</a>, the CSS theme does not use a</p>

<div class="highlighter-rouge"><pre class="highlight"><code>labelposition
</code></pre>
</div>
<p>attribute. Instead, the label position is defined by CSS rules.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/css_xhtml/controlheader.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Note that the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>fieldErrors
</code></pre>
</div>
<p>, usually caused by <em>Validation</em> , are displayed in a</p>

<div class="highlighter-rouge"><pre class="highlight"><code>div
</code></pre>
</div>
<p>block before the element is displayed.</p>

<p><strong>CSS XHTML theme footer</strong></p>

<p>And the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlfooter.ftl
</code></pre>
</div>
<p>contents:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/css_xhtml/controlfooter.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Special Interest</strong></p>

<p>Two css_xhtml templates of special interest are</p>

<div class="highlighter-rouge"><pre class="highlight"><code>head
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>form
</code></pre>
</div>
<p>.</p>

<p><strong>Head template</strong></p>

<p>The css_xhtml <a href="#PAGE_13997">head</a> template is similar to the xhtml head template. The difference is that CSS is used to provide the layout.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/css_xhtml/head.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>The head includes a style sheet.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/css_xhtml/styles.css</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>Form template</strong></p>

<p>The css_xhtml <a href="#PAGE_14201">form</a> template is almost exactly like the <em>xhtml form template</em> , including support for <em>Pure JavaScript Client Side Validation</em> . The difference is that instead of printing out an opening and closing</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;table&gt;
</code></pre>
</div>
<p>element, there are no elements. Instead, the CSS rules for the individual HTML tags are assumed to handle all display logic. However, as noted, client-side validation is still supported.</p>

<p><strong>css_xhtml form template</strong></p>

<p>The css_xhtml <a href="#PAGE_14201">form</a> template is almost exactly like the <em>xhtml form template</em> , including support for <em>Pure JavaScript Client Side Validation</em> . The only difference is that instead of printing out an opening and closing</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;table&gt;
</code></pre>
</div>
<p>element, there are no elements. Instead, the CSS rules for the individual HTML tags are assumed to handle all dislay logic. However, as noted, client side validation is still supported.</p>

<p><strong>css_xhtml head template</strong></p>

<p>The css_xhtml <a href="#PAGE_13997">head</a> template is very similar to the <em>xhtml head template</em> . The only difference is that CSS that is included is specifically designed to provide the layout for the <a href="#PAGE_14215">css_xhtml theme</a>. The contents of <strong>head.ftl</strong> are:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/css_xhtml/head.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>The contents of <strong>styles.css</strong> are:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/css_xhtml/styles.css</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####simple theme##### {#PAGE_14291}</p>

<p>The simple theme renders “bare bones” HTML elements. The simple theme is most often used as a starting point for other themes. (See <a href="#PAGE_13962">Extending Themes</a> for more.)</p>

<p>For example, the <a href="#PAGE_13912">textfield</a> tag renders the HTML</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&lt;input/&gt;
</code></pre>
</div>
<p>tag without a label, validation, error reporting, or any other formatting or functionality.</p>

<table>
  <tbody>
    <tr>
      <td>Both the <a href="#PAGE_13834">xhtml theme</a> and <a href="#PAGE_14215">css_xhtml theme</a> extend the simple theme. Look to them for examples of how to build on the foundation laid by the simple theme.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>Head Tag</strong></p>

<p>The simple theme <a href="#PAGE_13997">head</a> template prints out a javascript include required for the <a href="#PAGE_14274">datetimepicker</a> tag to render properly.</p>

<p><strong>simple head template</strong></p>

<p>The <a href="#PAGE_14291">simple theme</a><a href="#PAGE_13997">head</a> template only does one thing: it loads the minimal Ajax/Dojo support so that tags can import Dojo widgets easily.</p>

<p>The source of the simple head.ftl template is:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/simple/head.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>#####xhtml theme##### {#PAGE_13834}</p>

<p>The xhtml provides all the basics that the <a href="#PAGE_14291">simple theme</a> provides and adds several features.</p>

<ul>
  <li>
    <p>Standard two-column table layout for the HTML <a href="#PAGE_14248">Struts Tags</a> (<a href="#PAGE_14201">form</a>, <a href="#PAGE_13912">textfield</a>, <a href="#PAGE_14127">select</a>, and so forth)</p>
  </li>
  <li>
    <p>Labels for each of the HTML <a href="#PAGE_14248">Struts Tags</a> on the left hand side (or top, depending on the</p>
  </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>labelposition
</code></pre>
</div>
<p>attribute)</p>

<ul>
  <li>
    <p><em>Validation</em>  and error reporting</p>
  </li>
  <li>
    <p><em>Pure JavaScript Client Side Validation</em>  using 100% JavaScript on the browser</p>
  </li>
</ul>

<p><strong>Wrapping the Simple Theme</strong></p>

<p>The xhtml theme uses the “wrapping” technique described by <a href="#PAGE_13962">Extending Themes</a>. Let’s look at how the HTML tags are wrapped by a standard header and footer. For example, in the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>text.ftl
</code></pre>
</div>
<p>template, the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlheader.ftl
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlfooter.ftl
</code></pre>
</div>
<p>templates are wrapped around the simple template.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/text.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>(?)  The</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlheader.ftl
</code></pre>
</div>
<p>is referenced using ${parameters.theme} so that the code can be reused by the <a href="#PAGE_14205">ajax theme</a>.</p>

<p><strong>XHTML Theme Header</strong></p>

<p>Now let’s look at the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlheader.ftl
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlheader-core.ftl
</code></pre>
</div>
<p>. Again, these are split up for easy re-use with the <a href="#PAGE_14205">ajax theme</a>) contents:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/controlheader.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/controlheader-core.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>The header used by the HTML tags in the xhtml theme is complicated. However, a close look reveals that the logic produces two behaviors: either a two-column format or a two-row format. Generally the two-column approach is what we want, so that is the default option. To use the two-row approach, change the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>labelposition
</code></pre>
</div>
<p>parameter to</p>

<div class="highlighter-rouge"><pre class="highlight"><code>top
</code></pre>
</div>
<p>.</p>

<table>
  <tbody>
    <tr>
      <td>The fieldErrors, usually caused by <em>Validation</em> , are printed out as a row above the HTML form element. Some people prefer that the errors display elsewhere, such as in a third column. If you wish to place these elsehwere, overriding the headers is easy, allowing you to continue to use the other features provided by this theme. See <a href="#PAGE_13817">Template Loading</a> for more information on how to do this.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p><strong>XHTML Theme Footer</strong></p>

<p>The primary objective of</p>

<div class="highlighter-rouge"><pre class="highlight"><code>controlfooter.ftl
</code></pre>
</div>
<p>is to close the table. But, before the table closes, the template checks for an</p>

<div class="highlighter-rouge"><pre class="highlight"><code>after
</code></pre>
</div>
<p>parameter.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/controlfooter.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>While “after” isn’t an attribute supported by any of the <a href="#PAGE_14248">Struts Tags</a>, if you are using <a href="#PAGE_14294">FreeMarker Tags</a>, <a href="#PAGE_13950">Velocity Tags</a>, or the <a href="#PAGE_13825">param</a> tag in any template language, you can add an</p>

<div class="highlighter-rouge"><pre class="highlight"><code>after
</code></pre>
</div>
<p>parameter to place any content you like after the <a href="#PAGE_14291">simple theme</a> template renders. The</p>

<div class="highlighter-rouge"><pre class="highlight"><code>after
</code></pre>
</div>
<p>attribute makes it easier to fine-tune HTML forms for your specific environment.</p>

<p><strong>Special Interest</strong></p>

<p>Two xhtml templates of special interest are</p>

<div class="highlighter-rouge"><pre class="highlight"><code>head
</code></pre>
</div>
<p>and</p>

<div class="highlighter-rouge"><pre class="highlight"><code>form
</code></pre>
</div>
<p>.</p>

<p><strong>head template</strong></p>

<p>The xhtml <a href="#PAGE_13997">head</a> template extends the <em>simple head template</em>  and provides an additional CSS that helps render the  form elements.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/head.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>The head template imports a style sheet.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/styles.css</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>form template</strong></p>

<p>The xhtml form template sets up the wrapping table around all the other  form elements. In addition to creating this wrapping table, the opening and closing templates also, if the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>validate
</code></pre>
</div>
<p>parameter is set to true, enable <em>Pure JavaScript Client Side Validation</em> .</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/form.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>The closing template,</p>

<div class="highlighter-rouge"><pre class="highlight"><code>form-close.ftl*
</code></pre>
</div>
<p>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/form-close.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>xhtml form template</strong></p>

<p>The xhtml form template sets up the wrapping table around all the other <a href="#PAGE_13834">xhtml theme</a> form elements. In addition to creating this wrapping table, the opening and closing templates also, if the <em>validate</em>  parameter is set to true, enable <em>Pure JavaScript Client Side Validation</em> . See the <strong>form.ftl</strong> contents:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/form.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>The closing template, <strong>form-close.ftl</strong>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=struts2/core/src/main/resources/template/xhtml/form-close.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p><strong>xhtml head template</strong></p>

<p>The xhtml <a href="#PAGE_13997">head</a> template extends the <em>simple head template</em>  and provides an additional CSS that helps render the <a href="#PAGE_13834">xhtml theme</a> form elements. The contents of <strong>head.ftl</strong> are:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=webwork/src/java/template/xhtml/head.ftl</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>The contents of <strong>styles.css</strong> are:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">snippet:id=all|lang=xml|url=webwork/src/java/template/xhtml/styles.css</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>##Tag Syntax## {#PAGE_13927}</p>

<p>The tags are designed to display dynamic data. To create a input field that displays the property “postalCode”, we’d pass the String “postalCode” to the textfield tag.</p>

<p><strong>Creating a dynamic input field</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:textfield name="postalCode"/&gt;

</code></pre>
</div>

<p>If there is a “postalCode” property on the value stack, its value will be set to the input field. When the field is submitted back to the framework, the value of the control will be set back to the “postalCode” property.</p>

<p>Sometimes, we want to pass the dynamic data to a tag. For example, we might want to display a label with the input field, and we might want to obtain the label from the application’s messages resources. Accordingly, the framework will parse expressions found in the tag attributes, so that we can merge dynamic data into the tag attributes at runtime. The expression escape sequence is “%{ ... }”.  Any text embedded in the escape sequence is evalulated as an expression.</p>

<p><strong>Using an expression to set the label</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:textfield key="postalCode.label" name="postalCode"/&gt;

</code></pre>
</div>

<p>The expression language (<a href="#PAGE_14198">OGNL</a>) lets us call methods and evaluate properties. The method</p>

<div class="highlighter-rouge"><pre class="highlight"><code>getText
</code></pre>
</div>
<p>is provided by ActionSupport, which is the base class for most Actions. Since the Action is on the stack, we can call any of its methods from an expression, including</p>

<div class="highlighter-rouge"><pre class="highlight"><code>getText
</code></pre>
</div>
<p>.</p>

<p>####Non-String Attributes####</p>

<p>The HTTP protocol is text-based, but some tags have non-String attribute types, like</p>

<div class="highlighter-rouge"><pre class="highlight"><code>bool
</code></pre>
</div>
<p>or</p>

<div class="highlighter-rouge"><pre class="highlight"><code>int
</code></pre>
</div>
<p>. To make using non-String attributes intuitative, the framework evaulates <strong>all</strong> non-String attributes as an expression. In this case, you do not need to use the escape notation. (But, if you do anyway , the framework will just strip it off.)</p>

<p><strong>Evaluating booleans</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:select key="state.label" name="state" multiple="true"/&gt;

</code></pre>
</div>

<p>Since the attribute</p>

<div class="highlighter-rouge"><pre class="highlight"><code>multiple
</code></pre>
</div>
<p>maps to a boolean property, the framework does not interpret the value as a String. The value is evaluated as an expression and automtically converted to a boolean.</p>

<p>Since it’s easy to forget which attributes are String and which are non-String, you can still use the escape notation.</p>

<p><strong>Evaluating booleans (verbose)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:select key="state.label" name="state" multiple="%{true}"/&gt;

</code></pre>
</div>

<p><strong>Evaluating booleans (with property)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:select key="state.label" name="state" multiple="allowMultiple"/&gt;

</code></pre>
</div>

<p><strong>Evaluating booleans (verbose with property)</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:select key="state.label" name="state" multiple="%{allowMultiple}"/&gt;

</code></pre>
</div>

<p>####value is an Object!####</p>

<p>Most often, the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>attribute is set automatically, since</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>attribute usually tells the framework which property to call to set the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>. But, if there is a reason to set the</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>directly, be advised that</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p><strong>is an Object</strong><strong><em>NOT</em> **</strong>a String**.</p>

<p>(!)  Since</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>is not a String, whatever is passed to</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value
</code></pre>
</div>
<p>is evaluated as an expression - <strong>NOT</strong> a String literal.</p>

<p><strong>Probably wrong!</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:textfield key="state.label" name="state" value="ca"/&gt;

</code></pre>
</div>

<p>If a</p>

<div class="highlighter-rouge"><pre class="highlight"><code>textfield
</code></pre>
</div>
<p>is passed the value attribute</p>

<div class="highlighter-rouge"><pre class="highlight"><code>"ca"
</code></pre>
</div>
<p>, the framework will look for a property named</p>

<div class="highlighter-rouge"><pre class="highlight"><code>getCa
</code></pre>
</div>
<p>. Generally, this is not what we mean. What we mean to do is pass a literal String. In the expression language, literals are placed within quotes</p>

<p><strong>Passing a literal value the right way</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:textfield key="state.label" name="state" value="%{'ca'}" /&gt;

</code></pre>
</div>

<p>Another approach would be to use the idiom</p>

<div class="highlighter-rouge"><pre class="highlight"><code>value="'ca'"
</code></pre>
</div>
<p>, but, in this case, using the expression notation is recommended.</p>

<p>Boiled down, the tag attributes are evaluated using three rules.</p>

<ol>
  <li>
    <p>All <em>String</em>  attribute types are <em>parsed</em>  for the “%{ … }” notation.</p>
  </li>
  <li>
    <p>All <em>non-String</em>  attribute  types are <strong>not</strong> parsed, but evaluated directly as an expression</p>
  </li>
  <li>
    <p>The exception to rule #2 is that if the <em>non-String</em>  attribute uses the escape notion “%{}”, the notation is ignored as redundant, and the content evaluated.</p>
  </li>
</ol>

<p>Please remember about <em>altSyntax</em>  option that can change when value is evaluated as an expression - <em>Alt Syntax</em></p>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>####Expression Language Notations####</p>

<p>|&lt;p&gt;Username: ${user.username}&lt;/p&gt;| A JavaBean object in a standard context in Freemarker, Velocity, or JSTL EL (Not OGNL). |
|—————————————–|——————————————————————————————|
|&lt;s:textfield name=”username”/&gt;| A username property on the Value Stack. |
|&lt;s:url id=”es” action=”Hello”&gt;\
  &lt;s:param name=”request_locale”&gt;\
    es\
  &lt;/s:param&gt;\
&lt;/s:url&gt;\
&lt;s:a href=”%{es}”&gt;Espanol&lt;/s:a&gt;|  Another way to refer to a property placed on the Value Stack. |
|&lt;s:property\
  value=”#session.user.username” /&gt;| The username property of the User object in the Session context. |
|&lt;s:select\
  label=”FooBar” name=”foo”\
  list=”#{‘username’:’trillian’,\
    ‘username’:’zaphod’}” /&gt;|  A static Map, as in put(“username”,”trillian”). |</p>

<p>####Disallowed property names####</p>

<p>The following names of property are disallowed:</p>

<ul>
  <li>
    <p>parameters</p>
  </li>
  <li>
    <p>application</p>
  </li>
  <li>
    <p>session</p>
  </li>
  <li>
    <p>struts</p>
  </li>
  <li>
    <p>request</p>
  </li>
  <li>
    <p>servletRequest</p>
  </li>
  <li>
    <p>servletResponse</p>
  </li>
</ul>

<p>The below code will not work:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:iterator value="parameters"/&gt;

</code></pre>
</div>

<div class="highlighter-rouge"><pre class="highlight"><code>
public class MyAction {

    private String[] parameters;

    public String[] getParameters() {
        return parameters;
    }

}

</code></pre>
</div>

<p>####Next:####</p>

<p>##Velocity## {#PAGE_13894}</p>

<p>Velocity is a templating language for Java.</p>

<p>For more information on Velocity itself, please visit the <a href="http://velocity\.apache\.org/">Velocity website</a>^[http://velocity.apache.org/].</p>

<blockquote>

</blockquote>

<blockquote>

</blockquote>

<blockquote>
  <p>Velocity is similar to <a href="#PAGE_14078">FreeMarker</a>, as both are template languages that can be used outside of a Servlet container. The framework uses FreeMarker internally since it has better error reporting. Developers may also like that FreeMarker supports JSP taglibs. However, both are good alternatives to JSP.</p>
</blockquote>

<blockquote>

</blockquote>

<p>####Getting Started####</p>

<p>Getting started with Velocity is as simple as ensuring all the dependencies are included in your project’s classpath. Other than that, <em>struts-default.xml</em>  already configures the <em>Velocity Result</em> .</p>

<p><strong>struts.xml</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;action name="test" class="com.acme.TestAction"&gt;
    &lt;result name="success" type="velocity"&gt;test-success.vm&lt;/result&gt;
&lt;/action&gt;

</code></pre>
</div>

<p><strong>test-success.vm</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>Hello<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

Hello, ${name}

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>

</code></pre>
</div>

<p>Where</p>

<div class="highlighter-rouge"><pre class="highlight"><code>name
</code></pre>
</div>
<p>is a property on the Action class. That’s it!</p>

<p>There are few more details of interest, such as how templates are loaded and variables are resolved.</p>

<p>####Template Loading####</p>

<p>The framework looks for Velocity templates in two locations (in this order):</p>

<ol>
  <li>
    <p>Web application</p>
  </li>
  <li>
    <p>Class path</p>
  </li>
</ol>

<p>The ordering is designed so that a default set of templates can be placed in a JAR (perhaps shared between applications). If a template needs to be overridden, a different version can be placed in the web application.</p>

<table>
  <tbody>
    <tr>
      <td>Unlike JSPs, templates can be loaded from a JAR. Templates are a great way to support “plugins”, since the entire module can be delivered in a single JAR, and the views easily customized by the host application.</td>
    </tr>
  </tbody>
</table>

<table>
  <tbody>
    <tr>
    </tr>
  </tbody>
</table>

<p>####Variable Resolution####</p>

<p>In Velocity, there are three sources for variables, searched in a specific order.</p>

<ol>
  <li>
    <p>The value stack</p>
  </li>
  <li>
    <p>The action context</p>
  </li>
  <li>
    <p>Built-in variables</p>
  </li>
</ol>

<p>Since the action context is resolved after the value stack, you can reference the variable without the typical preceding marker (#) that has to be used with the JSP</p>

<div class="highlighter-rouge"><pre class="highlight"><code>s:property
</code></pre>
</div>
<p>tag. Omitting the marker can be convenient, but it can also trip you up, if used carelessly.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
#surl "id=url" "value=http://www.yahoo.com"
Click &lt;a href="${url}"&gt;here&lt;/a&gt;!

</code></pre>
</div>

<p>The Stuts2-Velocity integration layer provides several implicit variables.</p>

<table>
  <thead>
    <tr>
      <th>Variable</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>stack</td>
      <td>The value stack itself, useful for calls like ${stack.findString(‘ognl expr’)}</td>
    </tr>
    <tr>
      <td>action</td>
      <td>The action most recently executed</td>
    </tr>
    <tr>
      <td>response</td>
      <td>The HttpServletResponse</td>
    </tr>
    <tr>
      <td>res</td>
      <td>Same as response</td>
    </tr>
    <tr>
      <td>request</td>
      <td>The HttpServletRequest</td>
    </tr>
    <tr>
      <td>req</td>
      <td>Same as request</td>
    </tr>
    <tr>
      <td>session</td>
      <td>The HttpSession</td>
    </tr>
    <tr>
      <td>application</td>
      <td>The ServletContext</td>
    </tr>
    <tr>
      <td>base</td>
      <td>The request’s context path</td>
    </tr>
  </tbody>
</table>

<p>####Configuring Velocity####</p>

<p>You can configure Velocity by placing configuration items in <em>velocity.properties</em> .</p>

<p>####Next:####</p>

<p>###CeWolf charts using Velocity templates### {#PAGE_13816}</p>

<p>#####Setup CeWolf#####</p>

<p><strong>This currently only works with the most recent CVS version of WebWork but should be available in the upcoming 2.0 beta2</strong></p>

<ol>
  <li>
    <p>Go to <a href="http://cewolf.sourceforge.net">http://cewolf.sourceforge.net</a> and grab a stable release of CeWolf (at the time of writing, the unstable builds do not work with WebWork).</p>
  </li>
  <li>
    <p>Edit your webwork.properties file and add “de.laures.cewolf.taglib.tags” to the  property “webwork.velocity.tag.path”</p>
  </li>
</ol>

<p>Lastly add the CeWolf servlet to web.xml:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;servlet&gt;
    &lt;servlet-name&gt;CewolfServlet&lt;/servlet-name&gt;
    &lt;servlet-class&gt;de.laures.cewolf.CewolfRenderer&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;CewolfServlet&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/cewolf/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;

</code></pre>
</div>

<p>#####Create a DatasetProducer#####</p>

<p>This is the default DatasetProducer from the CeWolf tutorial.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
import java.io.Serializable;
import java.util.Date;
import java.util.Map;

import org.jfree.data.DefaultCategoryDataset;

import de.laures.cewolf.DatasetProduceException;
import de.laures.cewolf.DatasetProducer;

public class PageViewCountData implements DatasetProducer, Serializable {

	// These values would normally not be hard coded but produced by
	// some kind of data source like a database or a file
	private final String[] categories =    {"mon", "tue", "wen", "thu", "fri", "sat", "sun"};
	private final String[] seriesNames =    {"cewolfset.jsp", "tutorial.jsp", "testpage.jsp", "performancetest.jsp"};
	private final Integer[] [] values = new Integer[OS:seriesNames.length] [OS:categories.length];

	public Object produceDataset(Map params) throws DatasetProduceException {
		DefaultCategoryDataset dataset = new DefaultCategoryDataset();
		for (int series = 0; series &lt; seriesNames.length; series ++) {
			int lastY = (int)(Math.random() * 1000 + 1000);
			for (int i = 0; i &lt; categories.length; i++) {
				final int y = lastY + (int)(Math.random() * 200 - 100);
				lastY = y;
				dataset.addValue((double)y, seriesNames[OS:series], categories[i]);
			}
		}
		return dataset;
	}

	public boolean hasExpired(Map params, Date since) {		
		return (System.currentTimeMillis() - since.getTime())  &gt; 5000;
	}

	public String getProducerId() {
		return "PageViewCountData DatasetProducer";
	}
}

</code></pre>
</div>

<p>#####Create the Velocity template#####</p>

<p>With the new WebWork refactorings, nested JSP tags with arbitrary parameters can be used, so we convert the CeWolf tutorial JSP script to Velocity.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;jsp:useBean id="pageViews" class="de.laures.cewolf.example.PageViewCountData"/&gt;
&lt;cewolf:chart 
    id="line" 
    title="Page View Statistics" 
    type="line" 
    xaxislabel="Page" 
    yaxislabel="Views"&gt;
    &lt;cewolf:data&gt;
        &lt;cewolf:producer id="pageViews"/&gt;
    &lt;/cewolf:data&gt;
&lt;/cewolf:chart&gt;

&lt;cewolf:img chartid="line" renderer="cewolf" width="400" height="300"/&gt;

</code></pre>
</div>

<p>In Velocity it looks like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>
#set( $pageViews = $stack.findValue("new com.PageViewCountData()") )
$req.session.setAttribute("pageViews", $pageViews ) 

#bodytag( SimpleChart "id=line" "title=Page View Statistics" "type=line" "xaxislabel=Page" "yaxslabel=Views" )
  #bodytag( Data )
    #tag( Producer "id=pageViews" )
  #end
#end

#tag( ChartImg "chartid=line" "renderer=cewolf" "width=400" "height=300" ) 

</code></pre>
</div>

<p>As you may notice, CeWolf looks up it’s DatasetProducer in the request attributes - it has no knowledge of the Velocity context. That’s why we call $req.session.setAttribute(). The other attributes (such as the chartid) will be set by CeWolf, so we don’t need to care about them.</p>

<p>#####Setup an action to disply the template#####</p>

<p>Now you should be able to fire up an action in the usual way with this template as the result and a nice chart should appear.</p>

<p>##Velocity Tags## {#PAGE_13950}</p>

<p>Velocity tags are extensions of the generic <a href="#PAGE_14248">Struts Tags</a> provided by the framework. You can get jump right in just by knowing the structure in which the tags can be accessed: <strong>#s*</strong><strong>tag</strong> <strong>*(...) ... #end</strong>, where <strong>tag</strong>  is any of the <a href="#PAGE_14248">Struts Tags</a> supported by the framework.</p>

<p>For example, in JSP you might create a form using Struts tags.</p>

<p><strong>JSP Form</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
&lt;s:form action="updatePerson"&gt;
    &lt;s:textfield label="First name" name="firstName"/&gt;
    &lt;s:submit value="Update"/&gt;
&lt;/s:form&gt;

</code></pre>
</div>

<p>In Velocity, the same form can also be built using macros.</p>

<p><strong>VM Form</strong></p>

<div class="highlighter-rouge"><pre class="highlight"><code>
#sform ("action=updatePerson")
    #stextfield ("label=First name" "name=firstName")
    #ssubmit ("value=Update")
#end

</code></pre>
</div>

<p>####Block and Inline Tags####</p>

<p>Some VM tags require an #end statement while others do not. The inconsistency arises from a limitation in Velocity where tags must declare if they are a <em>block</em>  or <em>inline</em>  tag up front. As such, by default all tags are <em>inline</em>  except for a few key ones, such as the <a href="#PAGE_14201">form</a> tag.</p>

<p>####Back To:####</p>


  </section>
</article>


<footer class="container">
  <div class="col-md-12">
    Copyright &copy; 2000-2016 <a href="http://www.apache.org/">The Apache Software Foundation </a>.
    All Rights Reserved.
  </div>
  <div class="col-md-12">
    Apache Struts, Struts, Apache, the Apache feather logo, and the Apache Struts project logos are
    trademarks of The Apache Software Foundation.
  </div>
  <div class="col-md-12">Logo and website design donated by <a href="https://softwaremill.com/">SoftwareMill</a>.</div>
</footer>

<script>!function (d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (!d.getElementById(id)) {
    js = d.createElement(s);
    js.id = id;
    js.src = "//platform.twitter.com/widgets.js";
    fjs.parentNode.insertBefore(js, fjs);
  }
}(document, "script", "twitter-wjs");</script>
<script src="https://apis.google.com/js/platform.js" async="async" defer="defer"></script>

<div id="fb-root"></div>

<script>(function (d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s);
  js.id = id;
  js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


<script>
$(function() {
  return $("h2, h3, h4, h5, h6").each(function(i, el) {
    var $el, id;
    $el = $(el);
    id = $el.attr('id');
    if (id) {
      $el.removeAttr('id');
      return $el.before($("<a />").addClass('anchor').attr('name', id));
    }
  });
});
</script>

</body>
</html>
